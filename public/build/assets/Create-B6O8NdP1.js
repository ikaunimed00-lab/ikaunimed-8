import{c as Pe,r as Be,b as Me,j as t,H as De,L as Ce}from"./app-KlfsiMNf.js";import{s as _e}from"./index-BsxvijQw.js";import{E as Re}from"./Editor-BdVdvboy.js";import{W as Ee}from"./WriterLayout-BYL7mEse.js";import{X as we}from"./x-C7dUid-6.js";import{S as Fe}from"./save-D_PgA1Ka.js";/* empty css            */import"./index-Ceb27yEM.js";import"./sidebar-menu-config-D9XkqpsO.js";import"./house-XsxodZLj.js";import"./createLucideIcon-2FLWy-_U.js";import"./users-C4VZ7fLL.js";import"./newspaper-B5rCS7VE.js";import"./graduation-cap-1kygk_cR.js";import"./handshake-DB0pupHl.js";import"./user-DcBh4x77.js";function Ye(be){const e=Pe.c(121),{categories:I}=be,[H,Se]=Be.useState(null);let J;e[0]===Symbol.for("react.memo_cache_sentinel")?(J=[],e[0]=J):J=e[0];let O;e[1]===Symbol.for("react.memo_cache_sentinel")?(O={title:"",excerpt:"",content:"",image:null,categories:J,status:"draft",published_at:""},e[1]=O):O=e[1];const{data:s,setData:l,post:pe,processing:T,errors:i}=Me(O);let U;e[2]!==pe?(U=function(r){r.preventDefault(),pe(_e("admin.news.store"),{forceFormData:!0})},e[2]=pe,e[3]=U):U=e[3];const ge=U;let z;e[4]!==l?(z=function(r){const G=r.target.files?.[0];if(G){l("image",G);const ke=new FileReader;ke.onloadend=()=>{Se(ke.result)},ke.readAsDataURL(G)}},e[4]=l,e[5]=z):z=e[5];const je=z;let A;e[6]!==s.categories||e[7]!==l?(A=function(r){l("categories",s.categories.includes(r)?s.categories.filter(G=>G!==r):[...s.categories,r])},e[6]=s.categories,e[7]=l,e[8]=A):A=e[8];const W=A,Ne=s.status==="published";let X;e[9]!==i?(X=Object.keys(i),e[9]=i,e[10]=X):X=e[10];const ye=X.length>0;let $;e[11]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(De,{title:"Buat Berita"}),e[11]=$):$=e[11];let q;e[12]===Symbol.for("react.memo_cache_sentinel")?(q=_e("admin.news.index"),e[12]=q):q=e[12];let Q;e[13]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsxs("div",{className:"mb-8",children:[t.jsxs(Ce,{href:q,className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4 font-semibold transition",children:[t.jsx(we,{className:"h-4 w-4"}),"Kembali"]}),t.jsx("h1",{className:"text-4xl font-extrabold text-slate-900",children:"üìù Buat Berita Baru"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Tulis dan kelola konten berita dengan profesional"})]}),e[13]=Q):Q=e[13];let o;e[14]!==i||e[15]!==ye?(o=ye&&t.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:[t.jsx("p",{className:"text-red-800 font-semibold mb-2",children:"‚ö†Ô∏è Pastikan semua field terisi dengan benar:"}),t.jsx("ul",{className:"text-red-700 text-sm space-y-1",children:Object.entries(i).map(Le)})]}),e[14]=i,e[15]=ye,e[16]=o):o=e[16];let V;e[17]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("label",{className:"block font-semibold text-slate-900",children:"‚úçÔ∏è Judul Berita"}),e[17]=V):V=e[17];let n;e[18]!==l?(n=a=>l("title",a.target.value),e[18]=l,e[19]=n):n=e[19];let c;e[20]!==s.title||e[21]!==n?(c=t.jsx("input",{value:s.title,onChange:n,placeholder:"Contoh: Universitas Raih Penghargaan Internasional",className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e[20]=s.title,e[21]=n,e[22]=c):c=e[22];let Y;e[23]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 10 karakter ‚Ä¢ Hindari duplikasi"}),e[23]=Y):Y=e[23];let d;e[24]!==c?(d=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[V,c,Y]}),e[24]=c,e[25]=d):d=e[25];let Z;e[26]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìå Ringkasan (Lead)"}),e[26]=Z):Z=e[26];let m;e[27]!==l?(m=a=>l("excerpt",a.target.value),e[27]=l,e[28]=m):m=e[28];let u;e[29]!==s.excerpt||e[30]!==m?(u=t.jsx("textarea",{value:s.excerpt,onChange:m,placeholder:"Ringkasan singkat berita yang menarik. 20-500 karakter.",rows:3,className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),e[29]=s.excerpt,e[30]=m,e[31]=u):u=e[31];let ee;e[32]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 20 ‚Ä¢ Maksimal 500 karakter"}),e[32]=ee):ee=e[32];let h;e[33]!==u?(h=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[Z,u,ee]}),e[33]=u,e[34]=h):h=e[34];let te;e[35]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üñºÔ∏è Gambar Featured (Wajib)"}),e[35]=te):te=e[35];let f;e[36]!==H||e[37]!==l?(f=H&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:H,alt:"Preview",className:"w-full rounded-lg border-2 border-blue-200 max-h-64 object-cover"}),t.jsx("button",{type:"button",onClick:()=>{l("image",null),Se(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",children:t.jsx(we,{className:"h-4 w-4"})})]}),e[36]=H,e[37]=l,e[38]=f):f=e[38];let x;e[39]!==je?(x=t.jsx("input",{type:"file",accept:"image/*",onChange:je,className:"hidden",id:"image-upload"}),e[39]=je,e[40]=x):x=e[40];let se;e[41]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer block",children:[t.jsx("p",{className:"text-slate-600 font-medium",children:"Klik atau drag gambar di sini"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Format: JPG, PNG ‚Ä¢ Min: 600x400px ‚Ä¢ Max: 5MB"})]}),e[41]=se):se=e[41];let b;e[42]!==x?(b=t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-blue-500 transition cursor-pointer",children:[x,se]}),e[42]=x,e[43]=b):b=e[43];let p;e[44]!==f||e[45]!==b?(p=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[te,f,b]}),e[44]=f,e[45]=b,e[46]=p):p=e[46];let le;e[47]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìÑ Konten Berita"}),e[47]=le):le=e[47];let g;e[48]!==l?(g=a=>l("content",a),e[48]=l,e[49]=g):g=e[49];let j;e[50]!==s.content||e[51]!==g?(j=t.jsx(Re,{value:s.content,onChange:g}),e[50]=s.content,e[51]=g,e[52]=j):j=e[52];let ae;e[53]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 100 karakter ‚Ä¢ Maksimal 50,000 karakter"}),e[53]=ae):ae=e[53];let N;e[54]!==j?(N=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[le,j,ae]}),e[54]=j,e[55]=N):N=e[55];let y;e[56]!==d||e[57]!==h||e[58]!==p||e[59]!==N?(y=t.jsxs("div",{className:"col-span-2 space-y-6",children:[d,h,p,N]}),e[56]=d,e[57]=h,e[58]=p,e[59]=N,e[60]=y):y=e[60];let re;e[61]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("h3",{className:"font-semibold text-slate-900",children:"üè∑Ô∏è Kategori"}),e[61]=re):re=e[61];let v;if(e[62]!==I||e[63]!==s.categories||e[64]!==W){let a;e[66]!==s.categories||e[67]!==W?(a=r=>t.jsxs("label",{className:"flex items-center p-3 border border-slate-200 rounded-lg hover:bg-blue-50 cursor-pointer transition",children:[t.jsx("input",{type:"checkbox",checked:s.categories.includes(r.id),onChange:()=>W(r.id),className:"rounded w-4 h-4 text-blue-600"}),t.jsx("span",{className:"ml-3 font-medium text-slate-700",children:r.name})]},r.id),e[66]=s.categories,e[67]=W,e[68]=a):a=e[68],v=I.map(a),e[62]=I,e[63]=s.categories,e[64]=W,e[65]=v}else v=e[65];let k;e[69]!==v?(k=t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:v}),e[69]=v,e[70]=k):k=e[70];let ie;e[71]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("p",{className:"text-xs text-slate-500",children:"Pilih 1-3 kategori yang relevan"}),e[71]=ie):ie=e[71];let _;e[72]!==k?(_=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[re,k,ie]}),e[72]=k,e[73]=_):_=e[73];let oe;e[74]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx("h3",{className:"font-semibold text-slate-900",children:"‚öôÔ∏è Status Publikasi"}),e[74]=oe):oe=e[74];let ne;e[75]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),e[75]=ne):ne=e[75];let w;e[76]!==l?(w=a=>l("status",a.target.value),e[76]=l,e[77]=w):w=e[77];let ce,de,me;e[78]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("option",{value:"draft",children:"üìã Draft (Simpan saja)"}),de=t.jsx("option",{value:"scheduled",children:"‚è∞ Jadwalkan (Tentukan waktu)"}),me=t.jsx("option",{value:"published",children:"üöÄ Publish (Langsung aktif)"}),e[78]=ce,e[79]=de,e[80]=me):(ce=e[78],de=e[79],me=e[80]);let S;e[81]!==s.status||e[82]!==w?(S=t.jsxs("div",{className:"space-y-2",children:[ne,t.jsxs("select",{value:s.status,onChange:w,className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[ce,de,me]})]}),e[81]=s.status,e[82]=w,e[83]=S):S=e[83];let C;e[84]!==s.published_at||e[85]!==Ne||e[86]!==l?(C=Ne&&t.jsxs("div",{className:"space-y-2 pt-3 border-t border-slate-200",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Waktu Publikasi"}),t.jsx("input",{type:"datetime-local",value:s.published_at,onChange:a=>l("published_at",a.target.value),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Kosongi untuk publish sekarang"})]}),e[84]=s.published_at,e[85]=Ne,e[86]=l,e[87]=C):C=e[87];let P;e[88]!==s.status?(P=s.status==="draft"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üìã Draft:"})," Berita disimpan tapi belum dipublikasikan"]}),e[88]=s.status,e[89]=P):P=e[89];let B;e[90]!==s.status?(B=s.status==="scheduled"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"‚è∞ Terjadwal:"})," Otomatis publish pada waktu ditentukan"]}),e[90]=s.status,e[91]=B):B=e[91];let M;e[92]!==s.status?(M=s.status==="published"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üöÄ Published:"})," Berita langsung terlihat di portal"]}),e[92]=s.status,e[93]=M):M=e[93];let D;e[94]!==P||e[95]!==B||e[96]!==M?(D=t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[P,B,M]}),e[94]=P,e[95]=B,e[96]=M,e[97]=D):D=e[97];let R;e[98]!==S||e[99]!==C||e[100]!==D?(R=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[oe,S,C,D]}),e[98]=S,e[99]=C,e[100]=D,e[101]=R):R=e[101];let ue;e[102]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(Fe,{className:"h-5 w-5"}),e[102]=ue):ue=e[102];const ve=T?"‚è≥ Memproses...":s.status==="draft"?"üíæ Simpan Draft":"üöÄ Publish Sekarang";let E;e[103]!==T||e[104]!==ve?(E=t.jsxs("button",{disabled:T,type:"submit",className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-6 py-3.5 rounded-lg font-bold hover:from-emerald-600 hover:to-teal-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:[ue,ve]}),e[103]=T,e[104]=ve,e[105]=E):E=e[105];let he;e[106]===Symbol.for("react.memo_cache_sentinel")?(he=_e("admin.news.index"),e[106]=he):he=e[106];let fe;e[107]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsxs(Ce,{href:he,className:"w-full flex items-center justify-center gap-2 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-semibold hover:bg-slate-100 hover:border-slate-400 transition-all active:scale-95",children:[t.jsx(we,{className:"h-5 w-5"}),"Batal"]}),e[107]=fe):fe=e[107];let F;e[108]!==E?(F=t.jsxs("div",{className:"space-y-3 sticky bottom-4 bg-white/95 backdrop-blur rounded-xl p-4 border border-slate-200 shadow-lg",children:[E,fe]}),e[108]=E,e[109]=F):F=e[109];let L;e[110]!==_||e[111]!==R||e[112]!==F?(L=t.jsxs("div",{className:"col-span-1 space-y-4",children:[_,R,F]}),e[110]=_,e[111]=R,e[112]=F,e[113]=L):L=e[113];let K;e[114]!==y||e[115]!==L?(K=t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[y,L]}),e[114]=y,e[115]=L,e[116]=K):K=e[116];let xe;return e[117]!==ge||e[118]!==o||e[119]!==K?(xe=t.jsxs(Ee,{children:[$,t.jsxs("div",{className:"max-w-5xl mx-auto",children:[Q,t.jsxs("form",{onSubmit:ge,className:"space-y-6",children:[o,K]})]})]}),e[117]=ge,e[118]=o,e[119]=K,e[120]=xe):xe=e[120],xe}function Le(be){const[e,I]=be;return t.jsxs("li",{children:["‚Ä¢ ",e,": ",I]},e)}export{Ye as default};
