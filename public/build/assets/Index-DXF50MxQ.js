import{c as Z,u as ee,r as F,j as t,a as J,H as te,L as Q}from"./app-DkuaLEzQ.js";import{A as se}from"./AdminLayout-BSyOZPQY.js";import{c as le}from"./createLucideIcon-CyZxqCkr.js";import{A as ae}from"./arrow-left-DOmuflX9.js";import{U as re,a as ne}from"./users-Bw-q_gGp.js";import{M as ie}from"./mail-CgHvnG6C.js";import{S as ce}from"./square-pen-C08NW_7e.js";import{T as oe}from"./trash-2-CU2r7BjP.js";/* empty css            */import"./sidebar-menu-config-Cmm5UoIi.js";import"./menu-w5Q9IlHl.js";import"./message-circle-CZv2IqnW.js";import"./user-BcSvnkSL.js";const de=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],me=le("Trash",de);function Ce(N){const e=Z.c(59),{users:a}=N,{flash:n}=ee().props;let y;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=[],e[0]=y):y=e[0];const[s,w]=F.useState(y),[z,B]=F.useState(!1),[v,G]=F.useState(null);let k;e[1]===Symbol.for("react.memo_cache_sentinel")?(k=r=>{w(l=>l.includes(r)?l.filter($=>$!==r):[...l,r])},e[1]=k):k=e[1];const W=k;let _;e[2]!==s.length||e[3]!==a?(_=()=>{s.length===a.length?w([]):w(a.map(he))},e[2]=s.length,e[3]=a,e[4]=_):_=e[4];const P=_;let S;e[5]===Symbol.for("react.memo_cache_sentinel")?(S=r=>{G(r),B(!0)},e[5]=S):S=e[5];const X=S;let C;e[6]!==v?(C=()=>{v&&J.delete(route("admin.users.destroy",v),{onSuccess:()=>{B(!1),G(null)}})},e[6]=v,e[7]=C):C=e[7];const V=C;let U;e[8]!==s?(U=()=>{s.length!==0&&window.confirm(`Hapus ${s.length} user? Tindakan ini tidak bisa dibatalkan.`)&&J.post(route("admin.users.bulk-delete"),{ids:s},{onSuccess:()=>w([])})},e[8]=s,e[9]=U):U=e[9];const q=U,Y=xe;let A;e[10]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(te,{title:"Kelola User"}),e[10]=A):A=e[10];let T;e[11]===Symbol.for("react.memo_cache_sentinel")?(T=route("dashboard.admin"),e[11]=T):T=e[11];let H;e[12]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs(Q,{href:T,className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 font-semibold transition-colors mb-4 group",children:[t.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm group-hover:shadow-md transition-all",children:t.jsx(ae,{className:"h-4 w-4"})}),"Kembali ke Dashboard"]}),e[12]=H):H=e[12];let D;e[13]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsxs("div",{className:"mb-10",children:[H,t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg",children:t.jsx(re,{className:"w-6 h-6 text-white"})}),t.jsx("h1",{className:"text-4xl font-extrabold text-slate-900",children:"Kelola User"})]}),t.jsx("p",{className:"text-slate-600 ml-16",children:"Manage users dan kontrol role setiap pengguna sistem"})]}),e[13]=D):D=e[13];let i;e[14]!==n?(i=n?.success&&t.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-300 rounded-lg",children:t.jsxs("p",{className:"text-green-800 font-semibold",children:["✓ ",n.success]})}),e[14]=n,e[15]=i):i=e[15];let c;e[16]!==n?(c=n?.error&&t.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-300 rounded-lg",children:t.jsxs("p",{className:"text-red-800 font-semibold",children:["✗ ",n.error]})}),e[16]=n,e[17]=c):c=e[17];let I;e[18]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("p",{className:"text-slate-600 text-sm font-semibold uppercase",children:"Total User"}),e[18]=I):I=e[18];let o;e[19]!==a.length?(o=t.jsxs("div",{children:[I,t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:a.length})]}),e[19]=a.length,e[20]=o):o=e[20];let d;e[21]!==q||e[22]!==s.length?(d=s.length>0&&t.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold",children:[t.jsx(me,{className:"w-4 h-4"}),"Hapus ",s.length," User"]}),e[21]=q,e[22]=s.length,e[23]=d):d=e[23];let m;e[24]!==o||e[25]!==d?(m=t.jsxs("div",{className:"bg-slate-50 px-8 py-6 border-b flex justify-between items-center",children:[o,d]}),e[24]=o,e[25]=d,e[26]=m):m=e[26];const O=s.length===a.length&&a.length>0;let x;e[27]!==O||e[28]!==P?(x=t.jsx("th",{className:"px-6 py-4",children:t.jsx("input",{type:"checkbox",checked:O,onChange:P})}),e[27]=O,e[28]=P,e[29]=x):x=e[29];let M,E,L,K;e[30]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("th",{className:"px-6 py-4 text-left",children:"Nama"}),E=t.jsx("th",{className:"px-6 py-4 text-left",children:"Email"}),L=t.jsx("th",{className:"px-6 py-4 text-center",children:"Role / Organisasi"}),K=t.jsx("th",{className:"px-6 py-4 text-center",children:"Aksi"}),e[30]=M,e[31]=E,e[32]=L,e[33]=K):(M=e[30],E=e[31],L=e[32],K=e[33]);let h;e[34]!==x?(h=t.jsx("thead",{className:"bg-slate-100 border-b",children:t.jsxs("tr",{children:[x,M,E,L,K]})}),e[34]=x,e[35]=h):h=e[35];let f;if(e[36]!==s||e[37]!==a){let r;e[39]!==s?(r=l=>{const $=Y(l.role);return t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("input",{type:"checkbox",checked:s.includes(l.id),onChange:()=>W(l.id)})}),t.jsx("td",{className:"px-6 py-4 font-semibold",children:l.name}),t.jsxs("td",{className:"px-6 py-4 flex items-center gap-2",children:[t.jsx(ie,{className:"w-4 h-4 text-slate-400"}),l.email]}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${$.bg} ${$.text}`,children:l.role.toUpperCase()}),l.organization&&t.jsxs("span",{className:"text-xs font-medium text-slate-500 flex items-center gap-1",children:[t.jsx(ne,{className:"w-3 h-3"}),l.organization.name]})]})}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(Q,{href:route("admin.users.edit",l.id),className:"rounded p-1 text-slate-400 hover:bg-slate-100 hover:text-blue-600 transition-colors",title:"Edit Access",children:t.jsx(ce,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>X(l.id),className:"rounded p-1 text-slate-400 hover:bg-slate-100 hover:text-red-600 transition-colors",title:"Hapus User",children:t.jsx(oe,{className:"h-4 w-4"})})]})})]},l.id)},e[39]=s,e[40]=r):r=e[40],f=a.map(r),e[36]=s,e[37]=a,e[38]=f}else f=e[38];let p;e[41]!==f?(p=t.jsx("tbody",{className:"divide-y",children:f}),e[41]=f,e[42]=p):p=e[42];let g;e[43]!==h||e[44]!==p?(g=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[h,p]})}),e[43]=h,e[44]=p,e[45]=g):g=e[45];let u;e[46]!==m||e[47]!==g?(u=t.jsxs("div",{className:"rounded-2xl border border-slate-200 shadow-lg overflow-hidden bg-white",children:[m,g]}),e[46]=m,e[47]=g,e[48]=u):u=e[48];let b;e[49]!==i||e[50]!==c||e[51]!==u?(b=t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-slate-50 to-blue-50 py-8 px-4 md:px-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[D,i,c,u]})}),e[49]=i,e[50]=c,e[51]=u,e[52]=b):b=e[52];let j;e[53]!==V||e[54]!==z?(j=z&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[t.jsx("h3",{className:"text-lg font-bold mb-4",children:"Konfirmasi Hapus"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Apakah Anda yakin ingin menghapus user ini? Tindakan ini tidak bisa dibatalkan."}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium",children:"Batal"}),t.jsx("button",{onClick:V,className:"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-lg font-medium",children:"Hapus"})]})]})}),e[53]=V,e[54]=z,e[55]=j):j=e[55];let R;return e[56]!==b||e[57]!==j?(R=t.jsxs(se,{children:[A,b,j]}),e[56]=b,e[57]=j,e[58]=R):R=e[58],R}function xe(N){switch(N){case"admin":return{bg:"bg-red-100",text:"text-red-700"};case"editor":return{bg:"bg-blue-100",text:"text-blue-700"};case"writer":return{bg:"bg-green-100",text:"text-green-700"};default:return{bg:"bg-slate-100",text:"text-slate-700"}}}function he(N){return N.id}export{Ce as default};
