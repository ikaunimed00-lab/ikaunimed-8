import{c as Be,r as ze,b as Me,s as we,j as t,H as De,L as Ce}from"./app-DmjASEbZ.js";import{E as Re}from"./Editor-CKB85Uez.js";import{A as Ee}from"./AdminLayout-D85hEwHo.js";import{X as Se}from"./x-Brz5l97a.js";import{S as Fe}from"./save-CVee1pqS.js";/* empty css            */import"./index-DDZh-H31.js";import"./sidebar-menu-config-DFvUvnDA.js";import"./house-DOu_oB7y.js";import"./createLucideIcon-c1scGzLJ.js";import"./users-0fPpWC3U.js";import"./newspaper-sOeNpGKY.js";import"./building-2-iR6uumNO.js";import"./graduation-cap-B1vI_VY-.js";import"./handshake-Bknx9zdw.js";import"./user-CaeYczPT.js";import"./menu-CTIQrmq8.js";function tt(o){const e=Be.c(126),{categories:I}=o,[H,Pe]=ze.useState(null);let J;e[0]===Symbol.for("react.memo_cache_sentinel")?(J=[],e[0]=J):J=e[0];let T;e[1]===Symbol.for("react.memo_cache_sentinel")?(T={title:"",excerpt:"",content:"",image:null,categories:J,status:"draft",published_at:""},e[1]=T):T=e[1];const{data:s,setData:l,post:ge,processing:U,errors:r}=Me(T);let W;e[2]!==ge?(W=function(i){i.preventDefault(),ge(we("admin.news.store"),{forceFormData:!0})},e[2]=ge,e[3]=W):W=e[3];const je=W;let X;e[4]!==l?(X=function(i){const A=i.target.files?.[0];if(A){l("image",A);const _e=new FileReader;_e.onloadend=()=>{Pe(_e.result)},_e.readAsDataURL(A)}},e[4]=l,e[5]=X):X=e[5];const Ne=X;let $;e[6]!==s.categories||e[7]!==l?($=function(i){l("categories",s.categories.includes(i)?s.categories.filter(A=>A!==i):[...s.categories,i])},e[6]=s.categories,e[7]=l,e[8]=$):$=e[8];const O=$,ye=s.status==="published";let q;e[9]!==r?(q=Object.keys(r),e[9]=r,e[10]=q):q=e[10];const ve=q.length>0;let Q;e[11]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(De,{title:"Buat Berita"}),e[11]=Q):Q=e[11];let V;e[12]===Symbol.for("react.memo_cache_sentinel")?(V=we("admin.news.index"),e[12]=V):V=e[12];let Y;e[13]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs("div",{className:"mb-8",children:[t.jsxs(Ce,{href:V,className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4 font-semibold transition",children:[t.jsx(Se,{className:"h-4 w-4"}),"Kembali"]}),t.jsx("h1",{className:"text-4xl font-extrabold text-slate-900",children:"üìù Buat Berita Baru"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Tulis dan kelola konten berita dengan profesional"})]}),e[13]=Y):Y=e[13];let n;e[14]!==r||e[15]!==ve?(n=ve&&t.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:[t.jsx("p",{className:"text-red-800 font-semibold mb-2",children:"‚ö†Ô∏è Pastikan semua field terisi dengan benar:"}),t.jsx("ul",{className:"text-red-700 text-sm space-y-1",children:Object.entries(r).map(Le)})]}),e[14]=r,e[15]=ve,e[16]=n):n=e[16];let c;e[17]!==s.organization_id||e[18]!==r||e[19]!==l?(c=organizations&&organizations.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[t.jsx("label",{className:"block font-semibold text-slate-900",children:"üè¢ Scope Organisasi"}),t.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Pilih organisasi pemilik berita ini. Kosongkan untuk berita Global/Publik."}),t.jsxs("select",{value:s.organization_id,onChange:a=>l("organization_id",a.target.value),className:"w-full rounded-lg border border-slate-200 px-4 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100",children:[t.jsx("option",{value:"",children:"-- Global / Publik (PP) --"}),organizations.map(Ke)]}),r.organization_id&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.organization_id})]}),e[17]=s.organization_id,e[18]=r,e[19]=l,e[20]=c):c=e[20];let Z;e[21]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("label",{className:"block font-semibold text-slate-900",children:"‚úçÔ∏è Judul Berita"}),e[21]=Z):Z=e[21];let d;e[22]!==l?(d=a=>l("title",a.target.value),e[22]=l,e[23]=d):d=e[23];let m;e[24]!==s.title||e[25]!==d?(m=t.jsx("input",{value:s.title,onChange:d,placeholder:"Contoh: Universitas Raih Penghargaan Internasional",className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e[24]=s.title,e[25]=d,e[26]=m):m=e[26];let ee;e[27]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 10 karakter ‚Ä¢ Hindari duplikasi"}),e[27]=ee):ee=e[27];let u;e[28]!==m?(u=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[Z,m,ee]}),e[28]=m,e[29]=u):u=e[29];let te;e[30]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìå Ringkasan (Lead)"}),e[30]=te):te=e[30];let x;e[31]!==l?(x=a=>l("excerpt",a.target.value),e[31]=l,e[32]=x):x=e[32];let h;e[33]!==s.excerpt||e[34]!==x?(h=t.jsx("textarea",{value:s.excerpt,onChange:x,placeholder:"Ringkasan singkat berita yang menarik. 20-500 karakter.",rows:3,className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),e[33]=s.excerpt,e[34]=x,e[35]=h):h=e[35];let se;e[36]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 20 ‚Ä¢ Maksimal 500 karakter"}),e[36]=se):se=e[36];let b;e[37]!==h?(b=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[te,h,se]}),e[37]=h,e[38]=b):b=e[38];let le;e[39]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üñºÔ∏è Gambar Featured (Wajib)"}),e[39]=le):le=e[39];let f;e[40]!==H||e[41]!==l?(f=H&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:H,alt:"Preview",className:"w-full rounded-lg border-2 border-blue-200 max-h-64 object-cover"}),t.jsx("button",{type:"button",onClick:()=>{l("image",null),Pe(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",children:t.jsx(Se,{className:"h-4 w-4"})})]}),e[40]=H,e[41]=l,e[42]=f):f=e[42];let p;e[43]!==Ne?(p=t.jsx("input",{type:"file",accept:"image/*",onChange:Ne,className:"hidden",id:"image-upload"}),e[43]=Ne,e[44]=p):p=e[44];let ae;e[45]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer block",children:[t.jsx("p",{className:"text-slate-600 font-medium",children:"Klik atau drag gambar di sini"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Format: JPG, PNG ‚Ä¢ Min: 600x400px ‚Ä¢ Max: 5MB"})]}),e[45]=ae):ae=e[45];let g;e[46]!==p?(g=t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-blue-500 transition cursor-pointer",children:[p,ae]}),e[46]=p,e[47]=g):g=e[47];let j;e[48]!==f||e[49]!==g?(j=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[le,f,g]}),e[48]=f,e[49]=g,e[50]=j):j=e[50];let ie;e[51]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìÑ Konten Berita"}),e[51]=ie):ie=e[51];let N;e[52]!==l?(N=a=>l("content",a),e[52]=l,e[53]=N):N=e[53];let y;e[54]!==s.content||e[55]!==N?(y=t.jsx(Re,{value:s.content,onChange:N}),e[54]=s.content,e[55]=N,e[56]=y):y=e[56];let re;e[57]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 100 karakter ‚Ä¢ Maksimal 50,000 karakter"}),e[57]=re):re=e[57];let v;e[58]!==y?(v=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[ie,y,re]}),e[58]=y,e[59]=v):v=e[59];let k;e[60]!==c||e[61]!==u||e[62]!==b||e[63]!==j||e[64]!==v?(k=t.jsxs("div",{className:"col-span-2 space-y-6",children:[c,u,b,j,v]}),e[60]=c,e[61]=u,e[62]=b,e[63]=j,e[64]=v,e[65]=k):k=e[65];let oe;e[66]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx("h3",{className:"font-semibold text-slate-900",children:"üè∑Ô∏è Kategori"}),e[66]=oe):oe=e[66];let _;if(e[67]!==I||e[68]!==s.categories||e[69]!==O){let a;e[71]!==s.categories||e[72]!==O?(a=i=>t.jsxs("label",{className:"flex items-center p-3 border border-slate-200 rounded-lg hover:bg-blue-50 cursor-pointer transition",children:[t.jsx("input",{type:"checkbox",checked:s.categories.includes(i.id),onChange:()=>O(i.id),className:"rounded w-4 h-4 text-blue-600"}),t.jsx("span",{className:"ml-3 font-medium text-slate-700",children:i.name})]},i.id),e[71]=s.categories,e[72]=O,e[73]=a):a=e[73],_=I.map(a),e[67]=I,e[68]=s.categories,e[69]=O,e[70]=_}else _=e[70];let w;e[74]!==_?(w=t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:_}),e[74]=_,e[75]=w):w=e[75];let ne;e[76]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("p",{className:"text-xs text-slate-500",children:"Pilih 1-3 kategori yang relevan"}),e[76]=ne):ne=e[76];let S;e[77]!==w?(S=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[oe,w,ne]}),e[77]=w,e[78]=S):S=e[78];let ce;e[79]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("h3",{className:"font-semibold text-slate-900",children:"‚öôÔ∏è Status Publikasi"}),e[79]=ce):ce=e[79];let de;e[80]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),e[80]=de):de=e[80];let P;e[81]!==l?(P=a=>l("status",a.target.value),e[81]=l,e[82]=P):P=e[82];let me,ue,xe;e[83]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx("option",{value:"draft",children:"üìã Draft (Simpan saja)"}),ue=t.jsx("option",{value:"scheduled",children:"‚è∞ Jadwalkan (Tentukan waktu)"}),xe=t.jsx("option",{value:"published",children:"üöÄ Publish (Langsung aktif)"}),e[83]=me,e[84]=ue,e[85]=xe):(me=e[83],ue=e[84],xe=e[85]);let C;e[86]!==s.status||e[87]!==P?(C=t.jsxs("div",{className:"space-y-2",children:[de,t.jsxs("select",{value:s.status,onChange:P,className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[me,ue,xe]})]}),e[86]=s.status,e[87]=P,e[88]=C):C=e[88];let B;e[89]!==s.published_at||e[90]!==ye||e[91]!==l?(B=ye&&t.jsxs("div",{className:"space-y-2 pt-3 border-t border-slate-200",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Waktu Publikasi"}),t.jsx("input",{type:"datetime-local",value:s.published_at,onChange:a=>l("published_at",a.target.value),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Kosongi untuk publish sekarang"})]}),e[89]=s.published_at,e[90]=ye,e[91]=l,e[92]=B):B=e[92];let z;e[93]!==s.status?(z=s.status==="draft"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üìã Draft:"})," Berita disimpan tapi belum dipublikasikan"]}),e[93]=s.status,e[94]=z):z=e[94];let M;e[95]!==s.status?(M=s.status==="scheduled"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"‚è∞ Terjadwal:"})," Otomatis publish pada waktu ditentukan"]}),e[95]=s.status,e[96]=M):M=e[96];let D;e[97]!==s.status?(D=s.status==="published"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üöÄ Published:"})," Berita langsung terlihat di portal"]}),e[97]=s.status,e[98]=D):D=e[98];let R;e[99]!==z||e[100]!==M||e[101]!==D?(R=t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[z,M,D]}),e[99]=z,e[100]=M,e[101]=D,e[102]=R):R=e[102];let E;e[103]!==C||e[104]!==B||e[105]!==R?(E=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[ce,C,B,R]}),e[103]=C,e[104]=B,e[105]=R,e[106]=E):E=e[106];let he;e[107]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(Fe,{className:"h-5 w-5"}),e[107]=he):he=e[107];const ke=U?"‚è≥ Memproses...":s.status==="draft"?"üíæ Simpan Draft":"üöÄ Publish Sekarang";let F;e[108]!==U||e[109]!==ke?(F=t.jsxs("button",{disabled:U,type:"submit",className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-6 py-3.5 rounded-lg font-bold hover:from-emerald-600 hover:to-teal-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:[he,ke]}),e[108]=U,e[109]=ke,e[110]=F):F=e[110];let be;e[111]===Symbol.for("react.memo_cache_sentinel")?(be=we("admin.news.index"),e[111]=be):be=e[111];let fe;e[112]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsxs(Ce,{href:be,className:"w-full flex items-center justify-center gap-2 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-semibold hover:bg-slate-100 hover:border-slate-400 transition-all active:scale-95",children:[t.jsx(Se,{className:"h-5 w-5"}),"Batal"]}),e[112]=fe):fe=e[112];let K;e[113]!==F?(K=t.jsxs("div",{className:"space-y-3 sticky bottom-4 bg-white/95 backdrop-blur rounded-xl p-4 border border-slate-200 shadow-lg",children:[F,fe]}),e[113]=F,e[114]=K):K=e[114];let L;e[115]!==S||e[116]!==E||e[117]!==K?(L=t.jsxs("div",{className:"col-span-1 space-y-4",children:[S,E,K]}),e[115]=S,e[116]=E,e[117]=K,e[118]=L):L=e[118];let G;e[119]!==k||e[120]!==L?(G=t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[k,L]}),e[119]=k,e[120]=L,e[121]=G):G=e[121];let pe;return e[122]!==je||e[123]!==n||e[124]!==G?(pe=t.jsxs(Ee,{children:[Q,t.jsxs("div",{className:"max-w-5xl mx-auto",children:[Y,t.jsxs("form",{onSubmit:je,className:"space-y-6",children:[n,G]})]})]}),e[122]=je,e[123]=n,e[124]=G,e[125]=pe):pe=e[125],pe}function Ke(o){return t.jsxs("option",{value:o.id,children:[o.name," (",o.type.toUpperCase(),")"]},o.id)}function Le(o){const[e,I]=o;return t.jsxs("li",{children:["‚Ä¢ ",e,": ",I]},e)}export{tt as default};
