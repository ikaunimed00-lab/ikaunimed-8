import{c as Me,r as ze,b as De,s as Se,j as t,H as Re,L as Be}from"./app-DzxT-LV2.js";import{E as Ee}from"./Editor-DLDmRjdN.js";import{A as Fe}from"./AdminLayout-DFOFP5g8.js";import{X as Pe}from"./x-C5DDBzMT.js";import{S as Ke}from"./save-DAh5G2Z5.js";/* empty css            */import"./index-CJisBzhq.js";import"./sidebar-menu-config-CMS8IJ4Y.js";import"./house-Bbv5DX90.js";import"./createLucideIcon-DpgQ8Wl-.js";import"./users-Beh84tXt.js";import"./newspaper-CNDYpSH0.js";import"./building-2-Djzrt_NS.js";import"./graduation-cap-CAscF7VP.js";import"./handshake-CMR_WoSg.js";import"./user-ZjZFJxzU.js";import"./menu-CqQKRY6T.js";function st(o){const e=Me.c(127),{categories:I,organizations:O}=o,[J,Ce]=ze.useState(null);let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T=[],e[0]=T):T=e[0];let U;e[1]===Symbol.for("react.memo_cache_sentinel")?(U={title:"",excerpt:"",content:"",image:null,categories:T,status:"draft",published_at:""},e[1]=U):U=e[1];const{data:s,setData:l,post:je,processing:W,errors:r}=De(U);let X;e[2]!==je?(X=function(i){i.preventDefault(),je(Se("admin.news.store"),{forceFormData:!0})},e[2]=je,e[3]=X):X=e[3];const Ne=X;let $;e[4]!==l?($=function(i){const H=i.target.files?.[0];if(H){l("image",H);const we=new FileReader;we.onloadend=()=>{Ce(we.result)},we.readAsDataURL(H)}},e[4]=l,e[5]=$):$=e[5];const ye=$;let q;e[6]!==s.categories||e[7]!==l?(q=function(i){l("categories",s.categories.includes(i)?s.categories.filter(H=>H!==i):[...s.categories,i])},e[6]=s.categories,e[7]=l,e[8]=q):q=e[8];const A=q,ve=s.status==="published";let Q;e[9]!==r?(Q=Object.keys(r),e[9]=r,e[10]=Q):Q=e[10];const ke=Q.length>0;let V;e[11]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(Re,{title:"Buat Berita"}),e[11]=V):V=e[11];let Y;e[12]===Symbol.for("react.memo_cache_sentinel")?(Y=Se("admin.news.index"),e[12]=Y):Y=e[12];let Z;e[13]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsxs("div",{className:"mb-8",children:[t.jsxs(Be,{href:Y,className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4 font-semibold transition",children:[t.jsx(Pe,{className:"h-4 w-4"}),"Kembali"]}),t.jsx("h1",{className:"text-4xl font-extrabold text-slate-900",children:"üìù Buat Berita Baru"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Tulis dan kelola konten berita dengan profesional"})]}),e[13]=Z):Z=e[13];let n;e[14]!==r||e[15]!==ke?(n=ke&&t.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:[t.jsx("p",{className:"text-red-800 font-semibold mb-2",children:"‚ö†Ô∏è Pastikan semua field terisi dengan benar:"}),t.jsx("ul",{className:"text-red-700 text-sm space-y-1",children:Object.entries(r).map(Ge)})]}),e[14]=r,e[15]=ke,e[16]=n):n=e[16];let c;e[17]!==s.organization_id||e[18]!==r||e[19]!==O||e[20]!==l?(c=O&&O.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[t.jsx("label",{className:"block font-semibold text-slate-900",children:"üè¢ Scope Organisasi"}),t.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Pilih organisasi pemilik berita ini. Kosongkan untuk berita Global/Publik."}),t.jsxs("select",{value:s.organization_id,onChange:a=>l("organization_id",a.target.value),className:"w-full rounded-lg border border-slate-200 px-4 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100",children:[t.jsx("option",{value:"",children:"-- Global / Publik (PP) --"}),O.map(Le)]}),r.organization_id&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.organization_id})]}),e[17]=s.organization_id,e[18]=r,e[19]=O,e[20]=l,e[21]=c):c=e[21];let ee;e[22]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("label",{className:"block font-semibold text-slate-900",children:"‚úçÔ∏è Judul Berita"}),e[22]=ee):ee=e[22];let d;e[23]!==l?(d=a=>l("title",a.target.value),e[23]=l,e[24]=d):d=e[24];let m;e[25]!==s.title||e[26]!==d?(m=t.jsx("input",{value:s.title,onChange:d,placeholder:"Contoh: Universitas Raih Penghargaan Internasional",className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e[25]=s.title,e[26]=d,e[27]=m):m=e[27];let te;e[28]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 10 karakter ‚Ä¢ Hindari duplikasi"}),e[28]=te):te=e[28];let u;e[29]!==m?(u=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[ee,m,te]}),e[29]=m,e[30]=u):u=e[30];let se;e[31]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìå Ringkasan (Lead)"}),e[31]=se):se=e[31];let x;e[32]!==l?(x=a=>l("excerpt",a.target.value),e[32]=l,e[33]=x):x=e[33];let h;e[34]!==s.excerpt||e[35]!==x?(h=t.jsx("textarea",{value:s.excerpt,onChange:x,placeholder:"Ringkasan singkat berita yang menarik. 20-500 karakter.",rows:3,className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),e[34]=s.excerpt,e[35]=x,e[36]=h):h=e[36];let le;e[37]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 20 ‚Ä¢ Maksimal 500 karakter"}),e[37]=le):le=e[37];let b;e[38]!==h?(b=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[se,h,le]}),e[38]=h,e[39]=b):b=e[39];let ae;e[40]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üñºÔ∏è Gambar Featured (Wajib)"}),e[40]=ae):ae=e[40];let f;e[41]!==J||e[42]!==l?(f=J&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:J,alt:"Preview",className:"w-full rounded-lg border-2 border-blue-200 max-h-64 object-cover"}),t.jsx("button",{type:"button",onClick:()=>{l("image",null),Ce(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",children:t.jsx(Pe,{className:"h-4 w-4"})})]}),e[41]=J,e[42]=l,e[43]=f):f=e[43];let p;e[44]!==ye?(p=t.jsx("input",{type:"file",accept:"image/*",onChange:ye,className:"hidden",id:"image-upload"}),e[44]=ye,e[45]=p):p=e[45];let ie;e[46]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer block",children:[t.jsx("p",{className:"text-slate-600 font-medium",children:"Klik atau drag gambar di sini"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Format: JPG, PNG ‚Ä¢ Min: 600x400px ‚Ä¢ Max: 5MB"})]}),e[46]=ie):ie=e[46];let g;e[47]!==p?(g=t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-blue-500 transition cursor-pointer",children:[p,ie]}),e[47]=p,e[48]=g):g=e[48];let j;e[49]!==f||e[50]!==g?(j=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[ae,f,g]}),e[49]=f,e[50]=g,e[51]=j):j=e[51];let re;e[52]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìÑ Konten Berita"}),e[52]=re):re=e[52];let N;e[53]!==l?(N=a=>l("content",a),e[53]=l,e[54]=N):N=e[54];let y;e[55]!==s.content||e[56]!==N?(y=t.jsx(Ee,{value:s.content,onChange:N}),e[55]=s.content,e[56]=N,e[57]=y):y=e[57];let oe;e[58]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 100 karakter ‚Ä¢ Maksimal 50,000 karakter"}),e[58]=oe):oe=e[58];let v;e[59]!==y?(v=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[re,y,oe]}),e[59]=y,e[60]=v):v=e[60];let k;e[61]!==c||e[62]!==u||e[63]!==b||e[64]!==j||e[65]!==v?(k=t.jsxs("div",{className:"col-span-2 space-y-6",children:[c,u,b,j,v]}),e[61]=c,e[62]=u,e[63]=b,e[64]=j,e[65]=v,e[66]=k):k=e[66];let ne;e[67]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("h3",{className:"font-semibold text-slate-900",children:"üè∑Ô∏è Kategori"}),e[67]=ne):ne=e[67];let _;if(e[68]!==I||e[69]!==s.categories||e[70]!==A){let a;e[72]!==s.categories||e[73]!==A?(a=i=>t.jsxs("label",{className:"flex items-center p-3 border border-slate-200 rounded-lg hover:bg-blue-50 cursor-pointer transition",children:[t.jsx("input",{type:"checkbox",checked:s.categories.includes(i.id),onChange:()=>A(i.id),className:"rounded w-4 h-4 text-blue-600"}),t.jsx("span",{className:"ml-3 font-medium text-slate-700",children:i.name})]},i.id),e[72]=s.categories,e[73]=A,e[74]=a):a=e[74],_=I.map(a),e[68]=I,e[69]=s.categories,e[70]=A,e[71]=_}else _=e[71];let w;e[75]!==_?(w=t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:_}),e[75]=_,e[76]=w):w=e[76];let ce;e[77]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("p",{className:"text-xs text-slate-500",children:"Pilih 1-3 kategori yang relevan"}),e[77]=ce):ce=e[77];let S;e[78]!==w?(S=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[ne,w,ce]}),e[78]=w,e[79]=S):S=e[79];let de;e[80]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("h3",{className:"font-semibold text-slate-900",children:"‚öôÔ∏è Status Publikasi"}),e[80]=de):de=e[80];let me;e[81]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),e[81]=me):me=e[81];let P;e[82]!==l?(P=a=>l("status",a.target.value),e[82]=l,e[83]=P):P=e[83];let ue,xe,he;e[84]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx("option",{value:"draft",children:"üìã Draft (Simpan saja)"}),xe=t.jsx("option",{value:"scheduled",children:"‚è∞ Jadwalkan (Tentukan waktu)"}),he=t.jsx("option",{value:"published",children:"üöÄ Publish (Langsung aktif)"}),e[84]=ue,e[85]=xe,e[86]=he):(ue=e[84],xe=e[85],he=e[86]);let C;e[87]!==s.status||e[88]!==P?(C=t.jsxs("div",{className:"space-y-2",children:[me,t.jsxs("select",{value:s.status,onChange:P,className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[ue,xe,he]})]}),e[87]=s.status,e[88]=P,e[89]=C):C=e[89];let B;e[90]!==s.published_at||e[91]!==ve||e[92]!==l?(B=ve&&t.jsxs("div",{className:"space-y-2 pt-3 border-t border-slate-200",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Waktu Publikasi"}),t.jsx("input",{type:"datetime-local",value:s.published_at,onChange:a=>l("published_at",a.target.value),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Kosongi untuk publish sekarang"})]}),e[90]=s.published_at,e[91]=ve,e[92]=l,e[93]=B):B=e[93];let M;e[94]!==s.status?(M=s.status==="draft"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üìã Draft:"})," Berita disimpan tapi belum dipublikasikan"]}),e[94]=s.status,e[95]=M):M=e[95];let z;e[96]!==s.status?(z=s.status==="scheduled"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"‚è∞ Terjadwal:"})," Otomatis publish pada waktu ditentukan"]}),e[96]=s.status,e[97]=z):z=e[97];let D;e[98]!==s.status?(D=s.status==="published"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üöÄ Published:"})," Berita langsung terlihat di portal"]}),e[98]=s.status,e[99]=D):D=e[99];let R;e[100]!==M||e[101]!==z||e[102]!==D?(R=t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[M,z,D]}),e[100]=M,e[101]=z,e[102]=D,e[103]=R):R=e[103];let E;e[104]!==C||e[105]!==B||e[106]!==R?(E=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[de,C,B,R]}),e[104]=C,e[105]=B,e[106]=R,e[107]=E):E=e[107];let be;e[108]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(Ke,{className:"h-5 w-5"}),e[108]=be):be=e[108];const _e=W?"‚è≥ Memproses...":s.status==="draft"?"üíæ Simpan Draft":"üöÄ Publish Sekarang";let F;e[109]!==W||e[110]!==_e?(F=t.jsxs("button",{disabled:W,type:"submit",className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-6 py-3.5 rounded-lg font-bold hover:from-emerald-600 hover:to-teal-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:[be,_e]}),e[109]=W,e[110]=_e,e[111]=F):F=e[111];let fe;e[112]===Symbol.for("react.memo_cache_sentinel")?(fe=Se("admin.news.index"),e[112]=fe):fe=e[112];let pe;e[113]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsxs(Be,{href:fe,className:"w-full flex items-center justify-center gap-2 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-semibold hover:bg-slate-100 hover:border-slate-400 transition-all active:scale-95",children:[t.jsx(Pe,{className:"h-5 w-5"}),"Batal"]}),e[113]=pe):pe=e[113];let K;e[114]!==F?(K=t.jsxs("div",{className:"space-y-3 sticky bottom-4 bg-white/95 backdrop-blur rounded-xl p-4 border border-slate-200 shadow-lg",children:[F,pe]}),e[114]=F,e[115]=K):K=e[115];let L;e[116]!==S||e[117]!==E||e[118]!==K?(L=t.jsxs("div",{className:"col-span-1 space-y-4",children:[S,E,K]}),e[116]=S,e[117]=E,e[118]=K,e[119]=L):L=e[119];let G;e[120]!==k||e[121]!==L?(G=t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[k,L]}),e[120]=k,e[121]=L,e[122]=G):G=e[122];let ge;return e[123]!==Ne||e[124]!==n||e[125]!==G?(ge=t.jsxs(Fe,{children:[V,t.jsxs("div",{className:"max-w-5xl mx-auto",children:[Z,t.jsxs("form",{onSubmit:Ne,className:"space-y-6",children:[n,G]})]})]}),e[123]=Ne,e[124]=n,e[125]=G,e[126]=ge):ge=e[126],ge}function Le(o){return t.jsxs("option",{value:o.id,children:[o.name," (",o.type.toUpperCase(),")"]},o.id)}function Ge(o){const[e,I]=o;return t.jsxs("li",{children:["‚Ä¢ ",e,": ",I]},e)}export{st as default};
