import{c as I,u as W,r as O,j as t,L as A,a as L,H as B}from"./app-D95FnOV6.js";import{A as K}from"./AdminLayout-CNKw-XCX.js";import{S as M}from"./square-pen-ZVcBfZUc.js";import{T as R}from"./trash-2-DPEFb-s_.js";import{a as U}from"./users-Byg6B4yv.js";import{P as q}from"./plus-Bw-DyaAM.js";import{S as F}from"./search-D-B97bxG.js";/* empty css            */import"./sidebar-menu-config-BtOi__yH.js";import"./menu-RxGSU8V6.js";import"./createLucideIcon-CAXT7I-o.js";import"./message-circle-pw2sqr0h.js";import"./user-CXA9MUPC.js";function oe(l){const e=I.c(37),{organizations:a,filters:D,auth_user_scope:h}=l;W();const[r,$]=O.useState(D.search||""),[i,E]=O.useState(D.type||"");let u;e[0]!==r||e[1]!==i?(u=s=>{s.preventDefault(),L.get(route("dashboard.admin.organizations.index"),{search:r,type:i},{preserveState:!0})},e[0]=r,e[1]=i,e[2]=u):u=e[2];const z=u,H=J;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(B,{title:"Kelola Organisasi"}),e[3]=f):f=e[3];let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[t.jsx(U,{className:"w-6 h-6 text-red-600"}),"Kelola Organisasi"]}),t.jsx("p",{className:"text-slate-500",children:"Manajemen Struktur Organisasi (PP, DPW, DPC)"})]}),e[4]=b):b=e[4];let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=route("dashboard.admin.organizations.create"),e[5]=g):g=e[5];let j;e[6]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[b,t.jsxs(A,{href:g,className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 transition-colors",children:[t.jsx(q,{className:"h-4 w-4"}),"Tambah Organisasi"]})]}),e[6]=j):j=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(F,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),e[7]=y):y=e[7];let N;e[8]===Symbol.for("react.memo_cache_sentinel")?(N=s=>$(s.target.value),e[8]=N):N=e[8];let n;e[9]!==r?(n=t.jsxs("div",{className:"relative flex-1",children:[y,t.jsx("input",{type:"text",placeholder:"Cari nama organisasi...",value:r,onChange:N,className:"w-full rounded-lg border border-slate-200 pl-10 pr-4 py-2 text-sm focus:border-red-500 focus:outline-none focus:ring-1 focus:ring-red-500"})]}),e[9]=r,e[10]=n):n=e[10];let v;e[11]===Symbol.for("react.memo_cache_sentinel")?(v=s=>E(s.target.value),e[11]=v):v=e[11];let _,S,w,P;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("option",{value:"",children:"Semua Tipe"}),S=t.jsx("option",{value:"pp",children:"Pengurus Pusat (PP)"}),w=t.jsx("option",{value:"dpw",children:"Pengurus Wilayah (DPW)"}),P=t.jsx("option",{value:"dpc",children:"Pengurus Cabang (DPC)"}),e[12]=_,e[13]=S,e[14]=w,e[15]=P):(_=e[12],S=e[13],w=e[14],P=e[15]);let o;e[16]!==i?(o=t.jsxs("select",{value:i,onChange:v,className:"rounded-lg border border-slate-200 px-4 py-2 text-sm focus:border-red-500 focus:outline-none focus:ring-1 focus:ring-red-500",children:[_,S,w,P]}),e[16]=i,e[17]=o):o=e[17];let k;e[18]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("button",{type:"submit",className:"rounded-lg bg-slate-800 px-6 py-2 text-sm font-medium text-white hover:bg-slate-900 transition-colors",children:"Filter"}),e[18]=k):k=e[18];let d;e[19]!==z||e[20]!==o||e[21]!==n?(d=t.jsx("div",{className:"mb-6 rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:t.jsxs("form",{onSubmit:z,className:"flex flex-col gap-4 sm:flex-row",children:[n,o,k]})}),e[19]=z,e[20]=o,e[21]=n,e[22]=d):d=e[22];let C;e[23]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("thead",{className:"border-b border-slate-100 bg-slate-50 text-slate-500",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 font-medium",children:"Nama Organisasi"}),t.jsx("th",{className:"px-6 py-4 font-medium",children:"Tipe"}),t.jsx("th",{className:"px-6 py-4 font-medium",children:"Induk (Parent)"}),t.jsx("th",{className:"px-6 py-4 font-medium",children:"Slug"}),t.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aksi"})]})}),e[23]=C):C=e[23];let c;e[24]!==h||e[25]!==a.data?(c=a.data.length>0?a.data.map(s=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"px-6 py-4 font-medium text-slate-900",children:[s.name,!s.is_active&&t.jsx("span",{className:"ml-2 inline-flex items-center rounded-full bg-red-100 px-2 py-0.5 text-xs font-medium text-red-800",children:"Non-Aktif"})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${s.type==="pp"?"bg-purple-100 text-purple-800":s.type==="dpw"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:s.type.toUpperCase()})}),t.jsx("td",{className:"px-6 py-4 text-slate-500",children:s.parent?.name||"-"}),t.jsx("td",{className:"px-6 py-4 text-slate-500 font-mono text-xs",children:s.slug}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx(A,{href:route("dashboard.admin.organizations.edit",s.id),className:"rounded p-1 text-slate-400 hover:bg-slate-100 hover:text-blue-600 transition-colors",children:t.jsx(M,{className:"h-4 w-4"})}),(h.is_central_admin||s.id!==h.organization_id)&&t.jsx("button",{onClick:()=>H(s.id),className:"rounded p-1 text-slate-400 hover:bg-slate-100 hover:text-red-600 transition-colors",children:t.jsx(R,{className:"h-4 w-4"})})]})})]},s.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"Tidak ada data organisasi ditemukan."})}),e[24]=h,e[25]=a.data,e[26]=c):c=e[26];let m;e[27]!==c?(m=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left text-sm",children:[C,t.jsx("tbody",{className:"divide-y divide-slate-100",children:c})]})}),e[27]=c,e[28]=m):m=e[28];let x;e[29]!==a.links?(x=a.links&&a.links.length>3&&t.jsx("div",{className:"flex items-center justify-between border-t border-slate-100 px-6 py-4",children:t.jsx("div",{className:"flex gap-1",children:a.links.map(G)})}),e[29]=a.links,e[30]=x):x=e[30];let p;e[31]!==m||e[32]!==x?(p=t.jsxs("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:[m,x]}),e[31]=m,e[32]=x,e[33]=p):p=e[33];let T;return e[34]!==d||e[35]!==p?(T=t.jsxs(K,{children:[f,j,d,p]}),e[34]=d,e[35]=p,e[36]=T):T=e[36],T}function G(l,e){return t.jsx(A,{href:l.url||"#",dangerouslySetInnerHTML:{__html:l.label},className:`rounded px-3 py-1 text-xs font-medium transition-colors ${l.active?"bg-red-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"} ${!l.url&&"pointer-events-none opacity-50"}`},e)}function J(l){confirm("Apakah Anda yakin ingin menghapus organisasi ini? Semua data terkait (User, Berita) mungkin akan terdampak.")&&L.delete(route("dashboard.admin.organizations.destroy",l))}export{oe as default};
