import{c as Ke,r as Ge,b as Ue,s as Le,j as t,H as Ie,L as Ee}from"./app-DkuaLEzQ.js";import{E as Oe}from"./Editor-B8WJPXan.js";import{A as Ae}from"./AdminLayout-BSyOZPQY.js";import{X as Ce}from"./x-BrcXMGdZ.js";import{S as He}from"./save-GtCOR8_5.js";/* empty css            */import"./index-B4nDVSwb.js";import"./sidebar-menu-config-Cmm5UoIi.js";import"./menu-w5Q9IlHl.js";import"./createLucideIcon-CyZxqCkr.js";import"./users-Bw-q_gGp.js";import"./message-circle-CZv2IqnW.js";import"./user-BcSvnkSL.js";function rt(n){const e=Ke.c(142),{categories:J,organizations:V}=n,[Y,Re]=Ge.useState(null);let X;e[0]===Symbol.for("react.memo_cache_sentinel")?(X=[],e[0]=X):X=e[0];let $;e[1]===Symbol.for("react.memo_cache_sentinel")?($=[],e[1]=$):$=e[1];let q;e[2]===Symbol.for("react.memo_cache_sentinel")?(q={title:"",excerpt:"",content:"",image:null,categories:X,video_urls:$,status:"draft",published_at:""},e[2]=q):q=e[2];const{data:s,setData:l,post:Pe,processing:Q,errors:r}=Ue(q);let Z;e[3]!==Pe?(Z=function(i){i.preventDefault(),Pe(Le("admin.news.store"),{forceFormData:!0})},e[3]=Pe,e[4]=Z):Z=e[4];const Be=Z;let ee;e[5]!==l?(ee=function(i){const o=i.target.files?.[0];if(o){l("image",o);const c=new FileReader;c.onloadend=()=>{Re(c.result)},c.readAsDataURL(o)}},e[5]=l,e[6]=ee):ee=e[6];const Me=ee;let te;e[7]!==s.categories||e[8]!==l?(te=function(i){l("categories",s.categories.includes(i)?s.categories.filter(o=>o!==i):[...s.categories,i])},e[7]=s.categories,e[8]=l,e[9]=te):te=e[9];const W=te,Te=s.status==="published";let se;e[10]!==r?(se=Object.keys(r),e[10]=r,e[11]=se):se=e[11];const ze=se.length>0;let le;e[12]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(Ie,{title:"Buat Berita"}),e[12]=le):le=e[12];let ae;e[13]===Symbol.for("react.memo_cache_sentinel")?(ae=Le("admin.news.index"),e[13]=ae):ae=e[13];let ie;e[14]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs("div",{className:"mb-8",children:[t.jsxs(Ee,{href:ae,className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4 font-semibold transition",children:[t.jsx(Ce,{className:"h-4 w-4"}),"Kembali"]}),t.jsx("h1",{className:"text-4xl font-extrabold text-slate-900",children:"üìù Buat Berita Baru"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Tulis dan kelola konten berita dengan profesional"})]}),e[14]=ie):ie=e[14];let d;e[15]!==r||e[16]!==ze?(d=ze&&t.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:[t.jsx("p",{className:"text-red-800 font-semibold mb-2",children:"‚ö†Ô∏è Pastikan semua field terisi dengan benar:"}),t.jsx("ul",{className:"text-red-700 text-sm space-y-1",children:Object.entries(r).map(Ve)})]}),e[15]=r,e[16]=ze,e[17]=d):d=e[17];let m;e[18]!==s.organization_id||e[19]!==r||e[20]!==V||e[21]!==l?(m=V&&V.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[t.jsx("label",{className:"block font-semibold text-slate-900",children:"üè¢ Scope Organisasi"}),t.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Pilih organisasi pemilik berita ini. Kosongkan untuk berita Global/Publik."}),t.jsxs("select",{value:s.organization_id,onChange:a=>l("organization_id",a.target.value),className:"w-full rounded-lg border border-slate-200 px-4 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100",children:[t.jsx("option",{value:"",children:"-- Global / Publik (PP) --"}),V.map(Je)]}),r.organization_id&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.organization_id})]}),e[18]=s.organization_id,e[19]=r,e[20]=V,e[21]=l,e[22]=m):m=e[22];let re;e[23]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("label",{className:"block font-semibold text-slate-900",children:"‚úçÔ∏è Judul Berita"}),e[23]=re):re=e[23];let u;e[24]!==l?(u=a=>l("title",a.target.value),e[24]=l,e[25]=u):u=e[25];let b;e[26]!==s.title||e[27]!==u?(b=t.jsx("input",{value:s.title,onChange:u,placeholder:"Contoh: Universitas Raih Penghargaan Internasional",className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e[26]=s.title,e[27]=u,e[28]=b):b=e[28];let oe;e[29]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 10 karakter ‚Ä¢ Hindari duplikasi"}),e[29]=oe):oe=e[29];let x;e[30]!==b?(x=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[re,b,oe]}),e[30]=b,e[31]=x):x=e[31];let ne;e[32]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìå Ringkasan (Lead)"}),e[32]=ne):ne=e[32];let h;e[33]!==l?(h=a=>l("excerpt",a.target.value),e[33]=l,e[34]=h):h=e[34];let f;e[35]!==s.excerpt||e[36]!==h?(f=t.jsx("textarea",{value:s.excerpt,onChange:h,placeholder:"Ringkasan singkat berita yang menarik. 20-500 karakter.",rows:3,className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),e[35]=s.excerpt,e[36]=h,e[37]=f):f=e[37];let ce;e[38]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 20 ‚Ä¢ Maksimal 500 karakter"}),e[38]=ce):ce=e[38];let p;e[39]!==f?(p=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[ne,f,ce]}),e[39]=f,e[40]=p):p=e[40];let de;e[41]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üñºÔ∏è Gambar Featured (Wajib)"}),e[41]=de):de=e[41];let g;e[42]!==Y||e[43]!==l?(g=Y&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:Y,alt:"Preview",className:"w-full rounded-lg border-2 border-blue-200 max-h-64 object-cover"}),t.jsx("button",{type:"button",onClick:()=>{l("image",null),Re(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",children:t.jsx(Ce,{className:"h-4 w-4"})})]}),e[42]=Y,e[43]=l,e[44]=g):g=e[44];let j;e[45]!==Me?(j=t.jsx("input",{type:"file",accept:"image/*",onChange:Me,className:"hidden",id:"image-upload"}),e[45]=Me,e[46]=j):j=e[46];let me;e[47]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer block",children:[t.jsx("p",{className:"text-slate-600 font-medium",children:"Klik atau drag gambar di sini"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Format: JPG, PNG ‚Ä¢ Min: 600x400px ‚Ä¢ Max: 5MB"})]}),e[47]=me):me=e[47];let v;e[48]!==j?(v=t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-blue-500 transition cursor-pointer",children:[j,me]}),e[48]=j,e[49]=v):v=e[49];let N;e[50]!==g||e[51]!==v?(N=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[de,g,v]}),e[50]=g,e[51]=v,e[52]=N):N=e[52];let ue;e[53]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìÑ Konten Berita"}),e[53]=ue):ue=e[53];let _;e[54]!==l?(_=a=>l("content",a),e[54]=l,e[55]=_):_=e[55];let y;e[56]!==s.content||e[57]!==_?(y=t.jsx(Oe,{value:s.content,onChange:_}),e[56]=s.content,e[57]=_,e[58]=y):y=e[58];let be;e[59]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx("p",{className:"text-xs text-slate-500",children:"Minimal 100 karakter ‚Ä¢ Maksimal 50,000 karakter"}),e[59]=be):be=e[59];let k;e[60]!==y?(k=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[ue,y,be]}),e[60]=y,e[61]=k):k=e[61];let xe;e[62]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üé• Video (YouTube / TikTok)"}),e[62]=xe):xe=e[62];let w;e[63]!==s.video_urls||e[64]!==l?(w=s.video_urls.map((a,i)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{value:a,onChange:o=>{const c=[...s.video_urls];c[i]=o.target.value,l("video_urls",c)},placeholder:"https://www.youtube.com/watch?v=...",className:"flex-1 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("button",{type:"button",onClick:()=>{const o=s.video_urls.filter((c,Fe)=>Fe!==i);l("video_urls",o)},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:t.jsx(Ce,{className:"h-5 w-5"})})]},i)),e[63]=s.video_urls,e[64]=l,e[65]=w):w=e[65];let S;e[66]!==s.video_urls||e[67]!==l?(S=t.jsx("button",{type:"button",onClick:()=>l("video_urls",[...s.video_urls,""]),className:"text-sm text-blue-600 font-semibold hover:text-blue-700 flex items-center gap-1",children:"+ Tambah Link Video"}),e[66]=s.video_urls,e[67]=l,e[68]=S):S=e[68];let C;e[69]!==w||e[70]!==S?(C=t.jsxs("div",{className:"space-y-3",children:[w,S]}),e[69]=w,e[70]=S,e[71]=C):C=e[71];let he;e[72]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("p",{className:"text-xs text-slate-500",children:"Mendukung link YouTube dan TikTok."}),e[72]=he):he=e[72];let P;e[73]!==C?(P=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[xe,C,he]}),e[73]=C,e[74]=P):P=e[74];let B;e[75]!==m||e[76]!==x||e[77]!==p||e[78]!==N||e[79]!==k||e[80]!==P?(B=t.jsxs("div",{className:"col-span-2 space-y-6",children:[m,x,p,N,k,P]}),e[75]=m,e[76]=x,e[77]=p,e[78]=N,e[79]=k,e[80]=P,e[81]=B):B=e[81];let fe;e[82]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx("h3",{className:"font-semibold text-slate-900",children:"üè∑Ô∏è Kategori"}),e[82]=fe):fe=e[82];let M;if(e[83]!==J||e[84]!==s.categories||e[85]!==W){let a;e[87]!==s.categories||e[88]!==W?(a=i=>t.jsxs("label",{className:"flex items-center p-3 border border-slate-200 rounded-lg hover:bg-blue-50 cursor-pointer transition",children:[t.jsx("input",{type:"checkbox",checked:s.categories.includes(i.id),onChange:()=>W(i.id),className:"rounded w-4 h-4 text-blue-600"}),t.jsx("span",{className:"ml-3 font-medium text-slate-700",children:i.name})]},i.id),e[87]=s.categories,e[88]=W,e[89]=a):a=e[89],M=J.map(a),e[83]=J,e[84]=s.categories,e[85]=W,e[86]=M}else M=e[86];let T;e[90]!==M?(T=t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:M}),e[90]=M,e[91]=T):T=e[91];let pe;e[92]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx("p",{className:"text-xs text-slate-500",children:"Pilih 1-3 kategori yang relevan"}),e[92]=pe):pe=e[92];let z;e[93]!==T?(z=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[fe,T,pe]}),e[93]=T,e[94]=z):z=e[94];let ge;e[95]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx("h3",{className:"font-semibold text-slate-900",children:"‚öôÔ∏è Status Publikasi"}),e[95]=ge):ge=e[95];let je;e[96]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),e[96]=je):je=e[96];let D;e[97]!==l?(D=a=>l("status",a.target.value),e[97]=l,e[98]=D):D=e[98];let ve,Ne,_e;e[99]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx("option",{value:"draft",children:"üìã Draft (Simpan saja)"}),Ne=t.jsx("option",{value:"scheduled",children:"‚è∞ Jadwalkan (Tentukan waktu)"}),_e=t.jsx("option",{value:"published",children:"üöÄ Publish (Langsung aktif)"}),e[99]=ve,e[100]=Ne,e[101]=_e):(ve=e[99],Ne=e[100],_e=e[101]);let L;e[102]!==s.status||e[103]!==D?(L=t.jsxs("div",{className:"space-y-2",children:[je,t.jsxs("select",{value:s.status,onChange:D,className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[ve,Ne,_e]})]}),e[102]=s.status,e[103]=D,e[104]=L):L=e[104];let R;e[105]!==s.published_at||e[106]!==Te||e[107]!==l?(R=Te&&t.jsxs("div",{className:"space-y-2 pt-3 border-t border-slate-200",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Waktu Publikasi"}),t.jsx("input",{type:"datetime-local",value:s.published_at,onChange:a=>l("published_at",a.target.value),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Kosongi untuk publish sekarang"})]}),e[105]=s.published_at,e[106]=Te,e[107]=l,e[108]=R):R=e[108];let E;e[109]!==s.status?(E=s.status==="draft"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üìã Draft:"})," Berita disimpan tapi belum dipublikasikan"]}),e[109]=s.status,e[110]=E):E=e[110];let F;e[111]!==s.status?(F=s.status==="scheduled"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"‚è∞ Terjadwal:"})," Otomatis publish pada waktu ditentukan"]}),e[111]=s.status,e[112]=F):F=e[112];let K;e[113]!==s.status?(K=s.status==="published"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üöÄ Published:"})," Berita langsung terlihat di portal"]}),e[113]=s.status,e[114]=K):K=e[114];let G;e[115]!==E||e[116]!==F||e[117]!==K?(G=t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[E,F,K]}),e[115]=E,e[116]=F,e[117]=K,e[118]=G):G=e[118];let U;e[119]!==L||e[120]!==R||e[121]!==G?(U=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[ge,L,R,G]}),e[119]=L,e[120]=R,e[121]=G,e[122]=U):U=e[122];let ye;e[123]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(He,{className:"h-5 w-5"}),e[123]=ye):ye=e[123];const De=Q?"‚è≥ Memproses...":s.status==="draft"?"üíæ Simpan Draft":"üöÄ Publish Sekarang";let I;e[124]!==Q||e[125]!==De?(I=t.jsxs("button",{disabled:Q,type:"submit",className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-6 py-3.5 rounded-lg font-bold hover:from-emerald-600 hover:to-teal-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:[ye,De]}),e[124]=Q,e[125]=De,e[126]=I):I=e[126];let ke;e[127]===Symbol.for("react.memo_cache_sentinel")?(ke=Le("admin.news.index"),e[127]=ke):ke=e[127];let we;e[128]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsxs(Ee,{href:ke,className:"w-full flex items-center justify-center gap-2 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-semibold hover:bg-slate-100 hover:border-slate-400 transition-all active:scale-95",children:[t.jsx(Ce,{className:"h-5 w-5"}),"Batal"]}),e[128]=we):we=e[128];let O;e[129]!==I?(O=t.jsxs("div",{className:"space-y-3 sticky bottom-4 bg-white/95 backdrop-blur rounded-xl p-4 border border-slate-200 shadow-lg",children:[I,we]}),e[129]=I,e[130]=O):O=e[130];let A;e[131]!==z||e[132]!==U||e[133]!==O?(A=t.jsxs("div",{className:"col-span-1 space-y-4",children:[z,U,O]}),e[131]=z,e[132]=U,e[133]=O,e[134]=A):A=e[134];let H;e[135]!==B||e[136]!==A?(H=t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[B,A]}),e[135]=B,e[136]=A,e[137]=H):H=e[137];let Se;return e[138]!==Be||e[139]!==d||e[140]!==H?(Se=t.jsxs(Ae,{children:[le,t.jsxs("div",{className:"max-w-5xl mx-auto",children:[ie,t.jsxs("form",{onSubmit:Be,className:"space-y-6",children:[d,H]})]})]}),e[138]=Be,e[139]=d,e[140]=H,e[141]=Se):Se=e[141],Se}function Je(n){return t.jsxs("option",{value:n.id,children:[n.name," (",n.type.toUpperCase(),")"]},n.id)}function Ve(n){const[e,J]=n;return t.jsxs("li",{children:["‚Ä¢ ",e,": ",J]},e)}export{rt as default};
