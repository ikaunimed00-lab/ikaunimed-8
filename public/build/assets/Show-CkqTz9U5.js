import{c as ae,r as ee,b as ie,j as s,L as ne,a as te}from"./app-DLgrNn-E.js";import{s as q}from"./index-BsxvijQw.js";import{A as re}from"./AdminLayout-BchECC1U.js";/* empty css            */import"./sidebar-menu-config-CcFE1i8k.js";import"./house-DE8YEsoc.js";import"./createLucideIcon-0mf5cNa_.js";import"./users-BEwQ9AFI.js";import"./newspaper-Ci12AiTZ.js";import"./graduation-cap-Mierd0gy.js";import"./handshake-DVPzbz2G.js";import"./user-DwstB85H.js";function oe(l){switch(l){case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}}function de(l){switch(l){case"approved":return"Disetujui";case"rejected":return"Ditolak";default:return"Pending"}}function ye(l){const e=ae.c(86),{legalization:t}=l,[a,se]=ee.useState(""),[D,le]=ee.useState(!1),G=t.admin_note||"";let C;e[0]!==G?(C={note:G},e[0]=G,e[1]=C):C=e[1];const{data:H,setData:M,post:O,processing:Q}=ie(C),U=t.status==="pending";let L;e[2]!==t.id?(L=()=>{te.post(q("dashboard.admin.legalizations.approve",t.id))},e[2]=t.id,e[3]=L):L=e[3];const V=L;let A;e[4]!==t.id||e[5]!==a?(A=()=>{if(!a.trim())return alert("Alasan penolakan wajib diisi");te.post(q("dashboard.admin.legalizations.reject",t.id),{note:a})},e[4]=t.id,e[5]=a,e[6]=A):A=e[6];const X=A;let z;e[7]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx("h1",{className:"text-2xl font-bold",children:"Detail Legalisasi"}),e[7]=z):z=e[7];let i;e[8]!==t.id?(i=s.jsxs("div",{children:[z,s.jsxs("p",{className:"text-sm text-gray-500",children:["ID #",t.id]})]}),e[8]=t.id,e[9]=i):i=e[9];let R;e[10]!==t.status?(R=oe(t.status),e[10]=t.status,e[11]=R):R=e[11];const Y=`px-4 py-2 rounded-full border ${R}`;let n;e[12]!==t.status?(n=de(t.status),e[12]=t.status,e[13]=n):n=e[13];let r;e[14]!==Y||e[15]!==n?(r=s.jsx("span",{className:Y,children:n}),e[14]=Y,e[15]=n,e[16]=r):r=e[16];let o;e[17]!==r||e[18]!==i?(o=s.jsxs("div",{className:"bg-white border rounded p-6 flex justify-between",children:[i,r]}),e[17]=r,e[18]=i,e[19]=o):o=e[19];let E,T;e[20]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("h3",{className:"font-semibold mb-3",children:"Pemohon"}),T=s.jsx("strong",{children:"Nama:"}),e[20]=E,e[21]=T):(E=e[20],T=e[21]);let d;e[22]!==t.user.name?(d=s.jsxs("p",{children:[T," ",t.user.name]}),e[22]=t.user.name,e[23]=d):d=e[23];let I;e[24]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("strong",{children:"Email:"}),e[24]=I):I=e[24];let c;e[25]!==t.user.email?(c=s.jsxs("p",{children:[I," ",t.user.email]}),e[25]=t.user.email,e[26]=c):c=e[26];let m;e[27]!==t.user.wa?(m=t.user.wa&&s.jsxs("p",{children:[s.jsx("strong",{children:"WA:"})," ",t.user.wa]}),e[27]=t.user.wa,e[28]=m):m=e[28];let u;e[29]!==d||e[30]!==c||e[31]!==m?(u=s.jsxs("div",{className:"bg-white border rounded p-6",children:[E,d,c,m]}),e[29]=d,e[30]=c,e[31]=m,e[32]=u):u=e[32];let P;e[33]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("strong",{children:"Jenjang:"}),e[33]=P):P=e[33];let h;e[34]!==t.jenjang?(h=s.jsxs("p",{children:[P," ",t.jenjang]}),e[34]=t.jenjang,e[35]=h):h=e[35];let $;e[36]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx("strong",{children:"Tahun Lulus:"}),e[36]=$):$=e[36];let f;e[37]!==t.tahun_lulus?(f=s.jsxs("p",{children:[$," ",t.tahun_lulus]}),e[37]=t.tahun_lulus,e[38]=f):f=e[38];let F;e[39]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("strong",{children:"Jumlah Lembar:"}),e[39]=F):F=e[39];let j;e[40]!==t.jumlah_lembar?(j=s.jsxs("p",{children:[F," ",t.jumlah_lembar]}),e[40]=t.jumlah_lembar,e[41]=j):j=e[41];let J;e[42]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx("strong",{children:"Tanggal:"}),e[42]=J):J=e[42];let x;e[43]!==t.submitted_at?(x=new Date(t.submitted_at).toLocaleDateString("id-ID"),e[43]=t.submitted_at,e[44]=x):x=e[44];let p;e[45]!==x?(p=s.jsxs("p",{children:[J," ",x]}),e[45]=x,e[46]=p):p=e[46];let b;e[47]!==t.tujuan?(b=t.tujuan&&s.jsxs("p",{className:"col-span-2",children:[s.jsx("strong",{children:"Tujuan:"})," ",t.tujuan]}),e[47]=t.tujuan,e[48]=b):b=e[48];let g;e[49]!==h||e[50]!==f||e[51]!==j||e[52]!==p||e[53]!==b?(g=s.jsxs("div",{className:"bg-white border rounded p-6 grid grid-cols-2 gap-4",children:[h,f,j,p,b]}),e[49]=h,e[50]=f,e[51]=j,e[52]=p,e[53]=b,e[54]=g):g=e[54];let _;e[55]!==t.files?(_=t.files.length>0&&s.jsxs("div",{className:"bg-white border rounded p-6",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Dokumen"}),t.files.map(ce)]}),e[55]=t.files,e[56]=_):_=e[56];let K;e[57]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx("h3",{className:"font-semibold mb-2",children:"Catatan Admin"}),e[57]=K):K=e[57];let w;e[58]!==M?(w=Z=>M("note",Z.target.value),e[58]=M,e[59]=w):w=e[59];let N;e[60]!==H.note||e[61]!==w?(N=s.jsx("textarea",{value:H.note,onChange:w,className:"w-full border rounded p-2",rows:3}),e[60]=H.note,e[61]=w,e[62]=N):N=e[62];let y;e[63]!==t.id||e[64]!==O?(y=()=>O(q("dashboard.admin.legalizations.update_note",t.id)),e[63]=t.id,e[64]=O,e[65]=y):y=e[65];let v;e[66]!==Q||e[67]!==y?(v=s.jsx("button",{onClick:y,disabled:Q,className:"mt-2 bg-gray-700 text-white px-4 py-2 rounded",children:"Simpan"}),e[66]=Q,e[67]=y,e[68]=v):v=e[68];let S;e[69]!==N||e[70]!==v?(S=s.jsxs("div",{className:"bg-white border rounded p-6",children:[K,N,v]}),e[69]=N,e[70]=v,e[71]=S):S=e[71];let k;e[72]!==V||e[73]!==U||e[74]!==D||e[75]!==X||e[76]!==a?(k=U&&s.jsxs("div",{className:"bg-white border rounded p-6 space-y-3",children:[s.jsx("button",{onClick:V,className:"w-full bg-green-600 text-white py-2 rounded",children:"Setujui"}),s.jsx("button",{onClick:()=>le(!D),className:"w-full bg-red-600 text-white py-2 rounded",children:"Tolak"}),D&&s.jsxs(s.Fragment,{children:[s.jsx("textarea",{value:a,onChange:Z=>se(Z.target.value),className:"w-full border rounded p-2",placeholder:"Alasan penolakan"}),s.jsx("button",{onClick:X,className:"w-full bg-red-700 text-white py-2 rounded",children:"Konfirmasi Penolakan"})]})]}),e[72]=V,e[73]=U,e[74]=D,e[75]=X,e[76]=a,e[77]=k):k=e[77];let B;e[78]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(ne,{href:q("dashboard.admin.legalizations.index"),className:"text-blue-600 font-medium",children:"‚Üê Kembali"}),e[78]=B):B=e[78];let W;return e[79]!==o||e[80]!==u||e[81]!==g||e[82]!==_||e[83]!==S||e[84]!==k?(W=s.jsx(re,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o,u,g,_,S,k,B]})}),e[79]=o,e[80]=u,e[81]=g,e[82]=_,e[83]=S,e[84]=k,e[85]=W):W=e[85],W}function ce(l){return s.jsxs("div",{className:"flex justify-between border-b py-2",children:[s.jsx("span",{children:l.original_name}),s.jsx("a",{href:`/storage/${l.filename}`,className:"text-blue-600",target:"_blank",children:"Download"})]},l.id)}export{ye as default};
