import{c as Y,r as Z,b as ee,u as te,s as k,j as t,L as U,a as Q,H as se}from"./app-DzxT-LV2.js";import{E as ae}from"./EditorLayout-CBFYweE_.js";import{A as le}from"./AdminLayout-DFOFP5g8.js";import{C as re}from"./circle-check-big-DsQpVCWv.js";import{C as ie}from"./circle-x-BeVeX5cO.js";import{E as ne}from"./eye-dCpTbm_g.js";import{A as oe}from"./arrow-left-CuOSruRz.js";/* empty css            */import"./sidebar-menu-config-CMS8IJ4Y.js";import"./house-Bbv5DX90.js";import"./createLucideIcon-DpgQ8Wl-.js";import"./users-Beh84tXt.js";import"./newspaper-CNDYpSH0.js";import"./building-2-Djzrt_NS.js";import"./graduation-cap-CAscF7VP.js";import"./handshake-CMR_WoSg.js";import"./user-ZjZFJxzU.js";import"./menu-CqQKRY6T.js";const de=a=>{switch(a){case"published":return"bg-green-100 text-green-800 border-green-300";case"rejected":return"bg-red-100 text-red-800 border-red-300";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},ce=a=>({published:"Dipublikasikan",rejected:"Ditolak",pending:"Menunggu Review"})[a]||a;function Le(a){const e=Y.c(76),{post:s,categories:V}=a,[T,B]=Z.useState(!1);let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_={rejection_note:""},e[0]=_):_=e[0];const{data:$,setData:z,post:H,processing:S}=ee(_);let C;e[1]!==s.id?(C=()=>{confirm("Setujui dan publikasikan kabar alumni ini?")&&Q.post(k("dashboard.editor.alumni-posts.approve",s.id),{},{onSuccess:me})},e[1]=s.id,e[2]=C):C=e[2];const I=C;let D;e[3]!==s.id||e[4]!==H?(D=O=>{O.preventDefault(),H(k("dashboard.editor.alumni-posts.reject",s.id),{onSuccess:()=>{B(!1),Q.visit(k("dashboard.editor.alumni-posts.moderation"))}})},e[3]=s.id,e[4]=H,e[5]=D):D=e[5];const q=D,{auth:W}=te().props,F=W?.user?.role==="admin"?le:ae,J=`Review: ${s.title}`;let l;e[6]!==J?(l=t.jsx(se,{title:J}),e[6]=J,e[7]=l):l=e[7];let A;e[8]===Symbol.for("react.memo_cache_sentinel")?(A=k("dashboard.editor.alumni-posts.moderation"),e[8]=A):A=e[8];let L;e[9]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsxs(U,{href:A,className:"inline-flex items-center gap-2 text-purple-600 hover:text-purple-800 font-medium",children:[t.jsx(oe,{className:"w-4 h-4"}),"Kembali ke Moderasi"]}),e[9]=L):L=e[9];let P;e[10]!==s.status?(P=de(s.status),e[10]=s.status,e[11]=P):P=e[11];const X=`inline-flex px-4 py-2 text-sm font-semibold rounded-full border ${P}`;let r;e[12]!==s.status?(r=ce(s.status),e[12]=s.status,e[13]=r):r=e[13];let i;e[14]!==r||e[15]!==X?(i=t.jsxs("div",{className:"flex items-center justify-between",children:[L,t.jsx("span",{className:X,children:r})]}),e[14]=r,e[15]=X,e[16]=i):i=e[16];let n;e[17]!==s.title?(n=t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),e[17]=s.title,e[18]=n):n=e[18];let E;e[19]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("span",{className:"font-medium",children:"Penulis:"}),e[19]=E):E=e[19];let o;e[20]!==s.user.name?(o=t.jsx("span",{children:s.user.name}),e[20]=s.user.name,e[21]=o):o=e[21];let d;e[22]!==s.user.email?(d=t.jsxs("span",{className:"text-gray-400",children:["(",s.user.email,")"]}),e[22]=s.user.email,e[23]=d):d=e[23];let c;e[24]!==o||e[25]!==d?(c=t.jsxs("div",{className:"flex items-center gap-2",children:[E,o,d]}),e[24]=o,e[25]=d,e[26]=c):c=e[26];let R;e[27]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("span",{className:"font-medium",children:"Kategori:"}),e[27]=R):R=e[27];const G=V[s.category];let m;e[28]!==G?(m=t.jsxs("div",{className:"flex items-center gap-2",children:[R,t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-semibold",children:G})]}),e[28]=G,e[29]=m):m=e[29];let K;e[30]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("span",{className:"font-medium",children:"Tanggal Submit:"}),e[30]=K):K=e[30];let u;e[31]!==s.created_at?(u=new Date(s.created_at).toLocaleDateString("id-ID"),e[31]=s.created_at,e[32]=u):u=e[32];let p;e[33]!==u?(p=t.jsxs("div",{className:"flex items-center gap-2",children:[K,t.jsx("span",{children:u})]}),e[33]=u,e[34]=p):p=e[34];let x;e[35]!==c||e[36]!==m||e[37]!==p?(x=t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[c,m,p]}),e[35]=c,e[36]=m,e[37]=p,e[38]=x):x=e[38];let b;e[39]!==n||e[40]!==x?(b=t.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-50 to-indigo-50 border-b",children:[n,x]}),e[39]=n,e[40]=x,e[41]=b):b=e[41];let h;e[42]!==s.content?(h=t.jsx("div",{className:"px-6 py-8",children:t.jsx("div",{className:"prose max-w-none",children:t.jsx("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:s.content})})}),e[42]=s.content,e[43]=h):h=e[43];let g;e[44]!==s.rejection_note?(g=s.rejection_note&&t.jsxs("div",{className:"px-6 py-4 bg-red-50 border-t border-red-200",children:[t.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Catatan Penolakan:"}),t.jsx("p",{className:"text-sm text-red-800",children:s.rejection_note})]}),e[44]=s.rejection_note,e[45]=g):g=e[45];let f;e[46]!==b||e[47]!==h||e[48]!==g?(f=t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[b,h,g]}),e[46]=b,e[47]=h,e[48]=g,e[49]=f):f=e[49];let j;e[50]!==I||e[51]!==s.slug||e[52]!==s.status?(j=s.status==="pending"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aksi Moderasi"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:I,className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[t.jsx(re,{className:"w-5 h-5"}),"Setujui & Publikasikan"]}),t.jsxs("button",{onClick:()=>B(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:[t.jsx(ie,{className:"w-5 h-5"}),"Tolak"]}),s.slug&&t.jsxs(U,{href:k("alumni-posts.show",s.slug),target:"_blank",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[t.jsx(ne,{className:"w-5 h-5"}),"Preview Publik"]})]})]}),e[50]=I,e[51]=s.slug,e[52]=s.status,e[53]=j):j=e[53];let y;e[54]!==s.published_at||e[55]!==s.status?(y=s.status==="published"&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:t.jsxs("p",{className:"text-green-800",children:["✓ Kabar alumni ini sudah dipublikasikan pada"," ",s.published_at&&new Date(s.published_at).toLocaleDateString("id-ID")]})}),e[54]=s.published_at,e[55]=s.status,e[56]=y):y=e[56];let N;e[57]!==s.status?(N=s.status==="rejected"&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsx("p",{className:"text-red-800",children:"✗ Kabar alumni ini telah ditolak. Penulis dapat memperbaiki dan submit ulang."})}),e[57]=s.status,e[58]=N):N=e[58];let v;e[59]!==i||e[60]!==f||e[61]!==j||e[62]!==y||e[63]!==N?(v=t.jsxs("div",{className:"space-y-6",children:[i,f,j,y,N]}),e[59]=i,e[60]=f,e[61]=j,e[62]=y,e[63]=N,e[64]=v):v=e[64];let w;e[65]!==$||e[66]!==q||e[67]!==S||e[68]!==z||e[69]!==T?(w=T&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tolak Kabar Alumni"}),t.jsxs("form",{onSubmit:q,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Alasan Penolakan ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:$.rejection_note,onChange:O=>z("rejection_note",O.target.value),placeholder:"Jelaskan mengapa kabar ini ditolak...",rows:4,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Catatan ini akan dikirimkan ke penulis"})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Batal"}),t.jsx("button",{type:"submit",disabled:S,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:bg-red-400",children:S?"Menolak...":"Tolak Kabar"})]})]})]})}),e[65]=$,e[66]=q,e[67]=S,e[68]=z,e[69]=T,e[70]=w):w=e[70];let M;return e[71]!==F||e[72]!==v||e[73]!==w||e[74]!==l?(M=t.jsxs(F,{children:[l,v,w]}),e[71]=F,e[72]=v,e[73]=w,e[74]=l,e[75]=M):M=e[75],M}function me(){Q.visit(k("dashboard.editor.alumni-posts.moderation"))}export{Le as default};
