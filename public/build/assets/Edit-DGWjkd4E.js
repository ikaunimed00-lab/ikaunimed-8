import{c as $e,r as ze,b as Ae,s as Je,j as t,H as Ue,L as He}from"./app-DmjASEbZ.js";import{E as Xe}from"./Editor-CKB85Uez.js";import{W as qe}from"./WriterLayout-D1HrMOJT.js";import{X as Oe}from"./x-Brz5l97a.js";import{S as Qe}from"./save-CVee1pqS.js";/* empty css            */import"./index-DDZh-H31.js";import"./sidebar-menu-config-DFvUvnDA.js";import"./house-DOu_oB7y.js";import"./createLucideIcon-c1scGzLJ.js";import"./users-0fPpWC3U.js";import"./newspaper-sOeNpGKY.js";import"./building-2-iR6uumNO.js";import"./graduation-cap-B1vI_VY-.js";import"./handshake-Bknx9zdw.js";import"./user-CaeYczPT.js";import"./menu-CTIQrmq8.js";function pt(o){const e=$e.c(143),{news:a,authors:Ne,categories:ve,authRole:ye}=o,[T,We]=ze.useState(a.image??null),_e=a.excerpt||"",we=a.user_id||"";let $;e[0]!==a.categories?($=a.categories?.map(Ze)||[],e[0]=a.categories,e[1]=$):$=e[1];const ke=$,Se=a.status||"draft",Pe=a.published_at||"";let z;e[2]!==a.content||e[3]!==a.title||e[4]!==_e||e[5]!==we||e[6]!==ke||e[7]!==Se||e[8]!==Pe?(z={title:a.title,excerpt:_e,content:a.content,image:null,user_id:we,categories:ke,status:Se,published_at:Pe},e[2]=a.content,e[3]=a.title,e[4]=_e,e[5]=we,e[6]=ke,e[7]=Se,e[8]=Pe,e[9]=z):z=e[9];const{data:s,setData:l,put:Ce,processing:A,errors:n}=Ae(z);let U;e[10]!==a.slug||e[11]!==Ce?(U=function(i){i.preventDefault(),Ce(Je("admin.news.update",a.slug),{forceFormData:!0})},e[10]=a.slug,e[11]=Ce,e[12]=U):U=e[12];const Ee=U;let X;e[13]!==l?(X=function(i){const H=i.target.files?.[0];if(H){l("image",H);const Ge=new FileReader;Ge.onloadend=()=>{We(Ge.result)},Ge.readAsDataURL(H)}},e[13]=l,e[14]=X):X=e[14];const Be=X;let q;e[15]!==s.categories||e[16]!==l?(q=function(i){l("categories",s.categories.includes(i)?s.categories.filter(H=>H!==i):[...s.categories,i])},e[15]=s.categories,e[16]=l,e[17]=q):q=e[17];const W=q,De=s.status==="published";let Q;e[18]!==n?(Q=Object.keys(n),e[18]=n,e[19]=Q):Q=e[19];const Re=Q.length>0;let V;e[20]===Symbol.for("react.memo_cache_sentinel")?(V={draft:"bg-slate-100 text-slate-700",scheduled:"bg-amber-100 text-amber-700",published:"bg-green-100 text-green-700"},e[20]=V):V=e[20];const Te=V;let Y;e[21]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Ue,{title:"Edit Berita"}),e[21]=Y):Y=e[21];let Z;e[22]===Symbol.for("react.memo_cache_sentinel")?(Z=Je("admin.news.index"),e[22]=Z):Z=e[22];let ee;e[23]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsxs(He,{href:Z,className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4 font-semibold transition",children:[t.jsx(Oe,{className:"h-4 w-4"}),"Kembali"]}),e[23]=ee):ee=e[23];let te;e[24]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-extrabold text-slate-900",children:"‚úèÔ∏è Edit Berita"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Perbarui konten dan kelola publikasi"})]}),e[24]=te):te=e[24];const Fe=`px-4 py-2 rounded-lg font-semibold ${Te[s.status]}`,Ke=s.status==="draft"&&"üìã Draft",Le=s.status==="scheduled"&&"‚è∞ Terjadwal",Ie=s.status==="published"&&"üöÄ Published";let c;e[25]!==Fe||e[26]!==Ke||e[27]!==Le||e[28]!==Ie?(c=t.jsxs("div",{className:"mb-8",children:[ee,t.jsxs("div",{className:"flex items-center justify-between",children:[te,t.jsxs("div",{className:Fe,children:[Ke,Le,Ie]})]})]}),e[25]=Fe,e[26]=Ke,e[27]=Le,e[28]=Ie,e[29]=c):c=e[29];let d;e[30]!==n||e[31]!==Re?(d=Re&&t.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:[t.jsx("p",{className:"text-red-800 font-semibold mb-2",children:"‚ö†Ô∏è Perbaiki error berikut:"}),t.jsx("ul",{className:"text-red-700 text-sm space-y-1",children:Object.entries(n).map(Ye)})]}),e[30]=n,e[31]=Re,e[32]=d):d=e[32];let se;e[33]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx("label",{className:"block font-semibold text-slate-900",children:"‚úçÔ∏è Judul Berita"}),e[33]=se):se=e[33];let m;e[34]!==l?(m=r=>l("title",r.target.value),e[34]=l,e[35]=m):m=e[35];let u;e[36]!==s.title||e[37]!==m?(u=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[se,t.jsx("input",{value:s.title,onChange:m,className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e[36]=s.title,e[37]=m,e[38]=u):u=e[38];let le;e[39]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìå Ringkasan (Lead)"}),e[39]=le):le=e[39];let h;e[40]!==l?(h=r=>l("excerpt",r.target.value),e[40]=l,e[41]=h):h=e[41];let b;e[42]!==s.excerpt||e[43]!==h?(b=t.jsx("textarea",{value:s.excerpt,onChange:h,placeholder:"Ringkasan singkat berita yang menarik.",rows:3,className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),e[42]=s.excerpt,e[43]=h,e[44]=b):b=e[44];let ae;e[45]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx("p",{className:"text-xs text-slate-500",children:"20-500 karakter"}),e[45]=ae):ae=e[45];let x;e[46]!==b?(x=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[le,b,ae]}),e[46]=b,e[47]=x):x=e[47];let re;e[48]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üñºÔ∏è Gambar Featured"}),e[48]=re):re=e[48];let f;e[49]!==T||e[50]!==l?(f=T&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:T,alt:"Preview",className:"w-full rounded-lg border-2 border-blue-200 max-h-64 object-cover"}),t.jsx("button",{type:"button",onClick:()=>{l("image",null),We(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",children:t.jsx(Oe,{className:"h-4 w-4"})})]}),e[49]=T,e[50]=l,e[51]=f):f=e[51];let p;e[52]!==Be?(p=t.jsx("input",{type:"file",accept:"image/*",onChange:Be,className:"hidden",id:"image-upload"}),e[52]=Be,e[53]=p):p=e[53];let ie;e[54]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer block",children:[t.jsx("p",{className:"text-slate-600 font-medium",children:"Klik atau drag gambar baru di sini"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Format: JPG, PNG ‚Ä¢ Min: 600x400px ‚Ä¢ Max: 5MB"})]}),e[54]=ie):ie=e[54];let g;e[55]!==p?(g=t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-blue-500 transition cursor-pointer",children:[p,ie]}),e[55]=p,e[56]=g):g=e[56];let j;e[57]!==f||e[58]!==g?(j=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[re,f,g]}),e[57]=f,e[58]=g,e[59]=j):j=e[59];let oe;e[60]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìÑ Konten Berita"}),e[60]=oe):oe=e[60];let N;e[61]!==l?(N=r=>l("content",r),e[61]=l,e[62]=N):N=e[62];let v;e[63]!==s.content||e[64]!==N?(v=t.jsx(Xe,{value:s.content,onChange:N}),e[63]=s.content,e[64]=N,e[65]=v):v=e[65];let ne;e[66]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("p",{className:"text-xs text-slate-500",children:"100-50,000 karakter"}),e[66]=ne):ne=e[66];let y;e[67]!==v?(y=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[oe,v,ne]}),e[67]=v,e[68]=y):y=e[68];let _;e[69]!==u||e[70]!==x||e[71]!==j||e[72]!==y?(_=t.jsxs("div",{className:"col-span-2 space-y-6",children:[u,x,j,y]}),e[69]=u,e[70]=x,e[71]=j,e[72]=y,e[73]=_):_=e[73];let w;e[74]!==ye||e[75]!==Ne||e[76]!==s.user_id||e[77]!==l?(w=ye==="admin"&&t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[t.jsx("h3",{className:"font-semibold text-slate-900",children:"üë§ Penulis"}),t.jsxs("select",{value:s.user_id,onChange:r=>l("user_id",r.target.value),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Pilih Penulis"}),Ne.map(Ve)]})]}),e[74]=ye,e[75]=Ne,e[76]=s.user_id,e[77]=l,e[78]=w):w=e[78];let ce;e[79]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("h3",{className:"font-semibold text-slate-900",children:"üè∑Ô∏è Kategori"}),e[79]=ce):ce=e[79];let k;if(e[80]!==ve||e[81]!==s.categories||e[82]!==W){let r;e[84]!==s.categories||e[85]!==W?(r=i=>t.jsxs("label",{className:"flex items-center p-3 border border-slate-200 rounded-lg hover:bg-blue-50 cursor-pointer transition",children:[t.jsx("input",{type:"checkbox",checked:s.categories.includes(i.id),onChange:()=>W(i.id),className:"rounded w-4 h-4 text-blue-600"}),t.jsx("span",{className:"ml-3 font-medium text-slate-700",children:i.name})]},i.id),e[84]=s.categories,e[85]=W,e[86]=r):r=e[86],k=ve.map(r),e[80]=ve,e[81]=s.categories,e[82]=W,e[83]=k}else k=e[83];let S;e[87]!==k?(S=t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:k}),e[87]=k,e[88]=S):S=e[88];let de;e[89]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("p",{className:"text-xs text-slate-500",children:"Pilih 1-3 kategori yang relevan"}),e[89]=de):de=e[89];let P;e[90]!==S?(P=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[ce,S,de]}),e[90]=S,e[91]=P):P=e[91];let me;e[92]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx("h3",{className:"font-semibold text-slate-900",children:"‚öôÔ∏è Status Publikasi"}),e[92]=me):me=e[92];let ue;e[93]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),e[93]=ue):ue=e[93];let C;e[94]!==l?(C=r=>l("status",r.target.value),e[94]=l,e[95]=C):C=e[95];let he,be,xe;e[96]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("option",{value:"draft",children:"üìã Draft"}),be=t.jsx("option",{value:"scheduled",children:"‚è∞ Jadwalkan"}),xe=t.jsx("option",{value:"published",children:"üöÄ Publish"}),e[96]=he,e[97]=be,e[98]=xe):(he=e[96],be=e[97],xe=e[98]);let E;e[99]!==s.status||e[100]!==C?(E=t.jsxs("div",{className:"space-y-2",children:[ue,t.jsxs("select",{value:s.status,onChange:C,className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[he,be,xe]})]}),e[99]=s.status,e[100]=C,e[101]=E):E=e[101];let B;e[102]!==s.published_at||e[103]!==De||e[104]!==l?(B=De&&t.jsxs("div",{className:"space-y-2 pt-3 border-t border-slate-200",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Waktu Publikasi"}),t.jsx("input",{type:"datetime-local",value:s.published_at,onChange:r=>l("published_at",r.target.value),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Kosongi untuk publish sekarang"})]}),e[102]=s.published_at,e[103]=De,e[104]=l,e[105]=B):B=e[105];let D;e[106]!==s.status?(D=s.status==="draft"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üìã Draft:"})," Berita disimpan tapi belum dipublikasikan"]}),e[106]=s.status,e[107]=D):D=e[107];let R;e[108]!==s.status?(R=s.status==="scheduled"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"‚è∞ Terjadwal:"})," Otomatis publish pada waktu ditentukan"]}),e[108]=s.status,e[109]=R):R=e[109];let F;e[110]!==s.status?(F=s.status==="published"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üöÄ Published:"})," Berita terlihat di portal"]}),e[110]=s.status,e[111]=F):F=e[111];let K;e[112]!==D||e[113]!==R||e[114]!==F?(K=t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[D,R,F]}),e[112]=D,e[113]=R,e[114]=F,e[115]=K):K=e[115];let L;e[116]!==E||e[117]!==B||e[118]!==K?(L=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[me,E,B,K]}),e[116]=E,e[117]=B,e[118]=K,e[119]=L):L=e[119];let fe;e[120]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(Qe,{className:"h-5 w-5"}),e[120]=fe):fe=e[120];const Me=A?"‚è≥ Memproses...":s.status==="draft"?"üíæ Simpan Draft":"üöÄ Publish Sekarang";let I;e[121]!==A||e[122]!==Me?(I=t.jsxs("button",{disabled:A,type:"submit",className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-6 py-3.5 rounded-lg font-bold hover:from-emerald-600 hover:to-teal-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:[fe,Me]}),e[121]=A,e[122]=Me,e[123]=I):I=e[123];let pe;e[124]===Symbol.for("react.memo_cache_sentinel")?(pe=Je("admin.news.index"),e[124]=pe):pe=e[124];let ge;e[125]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsxs(He,{href:pe,className:"w-full flex items-center justify-center gap-2 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-semibold hover:bg-slate-100 hover:border-slate-400 transition-all active:scale-95",children:[t.jsx(Oe,{className:"h-5 w-5"}),"Batal"]}),e[125]=ge):ge=e[125];let M;e[126]!==I?(M=t.jsxs("div",{className:"space-y-3 sticky bottom-4 bg-white/95 backdrop-blur rounded-xl p-4 border border-slate-200 shadow-lg",children:[I,ge]}),e[126]=I,e[127]=M):M=e[127];let G;e[128]!==w||e[129]!==P||e[130]!==L||e[131]!==M?(G=t.jsxs("div",{className:"col-span-1 space-y-4",children:[w,P,L,M]}),e[128]=w,e[129]=P,e[130]=L,e[131]=M,e[132]=G):G=e[132];let J;e[133]!==_||e[134]!==G?(J=t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[_,G]}),e[133]=_,e[134]=G,e[135]=J):J=e[135];let O;e[136]!==Ee||e[137]!==d||e[138]!==J?(O=t.jsxs("form",{onSubmit:Ee,className:"space-y-6",children:[d,J]}),e[136]=Ee,e[137]=d,e[138]=J,e[139]=O):O=e[139];let je;return e[140]!==c||e[141]!==O?(je=t.jsxs(qe,{children:[Y,t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white via-blue-50/20 to-white py-8 px-4",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[c,O]})})]}),e[140]=c,e[141]=O,e[142]=je):je=e[142],je}function Ve(o){return t.jsxs("option",{value:o.id,children:[o.name," (",o.role,")"]},o.id)}function Ye(o){const[e,a]=o;return t.jsxs("li",{children:["‚Ä¢ ",e,": ",a]},e)}function Ze(o){return parseInt(o)}export{pt as default};
