import{c as Xe,r as Ye,b as qe,s as He,j as t,H as Qe,L as $e}from"./app-D95FnOV6.js";import{E as Ze}from"./Editor-DwCTuWgZ.js";import{W as et}from"./WriterLayout-CpYkFEnj.js";import{X as ke}from"./x-DBfJv2zX.js";import{S as tt}from"./save-CEpRHPHT.js";/* empty css            */import"./index-Ds9sODE9.js";import"./sidebar-menu-config-BtOi__yH.js";import"./menu-RxGSU8V6.js";import"./createLucideIcon-CAXT7I-o.js";import"./users-Byg6B4yv.js";import"./message-circle-pw2sqr0h.js";import"./user-CXA9MUPC.js";function gt(o){const e=Xe.c(154),{news:r,authors:Se,categories:Pe,authRole:Ce}=o,[z,Ve]=Ye.useState(r.image??null),Ee=r.excerpt||"",Be=r.user_id||"";let A;e[0]!==r.categories?(A=r.categories?.map(at)||[],e[0]=r.categories,e[1]=A):A=e[1];const De=A,Re=r.status||"draft",Fe=r.published_at||"";let X;e[2]!==r.content||e[3]!==r.title||e[4]!==Ee||e[5]!==Be||e[6]!==De||e[7]!==Re||e[8]!==Fe?(X={title:r.title,excerpt:Ee,content:r.content,image:null,user_id:Be,categories:De,status:Re,published_at:Fe},e[2]=r.content,e[3]=r.title,e[4]=Ee,e[5]=Be,e[6]=De,e[7]=Re,e[8]=Fe,e[9]=X):X=e[9];const{data:s,setData:l,put:Le,processing:Y,errors:d}=qe(X);let q;e[10]!==r.slug||e[11]!==Le?(q=function(i){i.preventDefault(),Le(He("admin.news.update",r.slug),{forceFormData:!0})},e[10]=r.slug,e[11]=Le,e[12]=q):q=e[12];const Te=q;let Q;e[13]!==l?(Q=function(i){const n=i.target.files?.[0];if(n){l("image",n);const c=new FileReader;c.onloadend=()=>{Ve(c.result)},c.readAsDataURL(n)}},e[13]=l,e[14]=Q):Q=e[14];const Ke=Q;let Z;e[15]!==s.categories||e[16]!==l?(Z=function(i){l("categories",s.categories.includes(i)?s.categories.filter(n=>n!==i):[...s.categories,i])},e[15]=s.categories,e[16]=l,e[17]=Z):Z=e[17];const $=Z,Ie=s.status==="published";let ee;e[18]!==d?(ee=Object.keys(d),e[18]=d,e[19]=ee):ee=e[19];const Me=ee.length>0;let te;e[20]===Symbol.for("react.memo_cache_sentinel")?(te={draft:"bg-slate-100 text-slate-700",scheduled:"bg-amber-100 text-amber-700",published:"bg-green-100 text-green-700"},e[20]=te):te=e[20];const ze=te;let se;e[21]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(Qe,{title:"Edit Berita"}),e[21]=se):se=e[21];let le;e[22]===Symbol.for("react.memo_cache_sentinel")?(le=He("admin.news.index"),e[22]=le):le=e[22];let ae;e[23]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsxs($e,{href:le,className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4 font-semibold transition",children:[t.jsx(ke,{className:"h-4 w-4"}),"Kembali"]}),e[23]=ae):ae=e[23];let re;e[24]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-extrabold text-slate-900",children:"‚úèÔ∏è Edit Berita"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Perbarui konten dan kelola publikasi"})]}),e[24]=re):re=e[24];const Ge=`px-4 py-2 rounded-lg font-semibold ${ze[s.status]}`,Je=s.status==="draft"&&"üìã Draft",Oe=s.status==="scheduled"&&"‚è∞ Terjadwal",Ue=s.status==="published"&&"üöÄ Published";let m;e[25]!==Ge||e[26]!==Je||e[27]!==Oe||e[28]!==Ue?(m=t.jsxs("div",{className:"mb-8",children:[ae,t.jsxs("div",{className:"flex items-center justify-between",children:[re,t.jsxs("div",{className:Ge,children:[Je,Oe,Ue]})]})]}),e[25]=Ge,e[26]=Je,e[27]=Oe,e[28]=Ue,e[29]=m):m=e[29];let u;e[30]!==d||e[31]!==Me?(u=Me&&t.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:[t.jsx("p",{className:"text-red-800 font-semibold mb-2",children:"‚ö†Ô∏è Perbaiki error berikut:"}),t.jsx("ul",{className:"text-red-700 text-sm space-y-1",children:Object.entries(d).map(lt)})]}),e[30]=d,e[31]=Me,e[32]=u):u=e[32];let ie;e[33]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("label",{className:"block font-semibold text-slate-900",children:"‚úçÔ∏è Judul Berita"}),e[33]=ie):ie=e[33];let b;e[34]!==l?(b=a=>l("title",a.target.value),e[34]=l,e[35]=b):b=e[35];let h;e[36]!==s.title||e[37]!==b?(h=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[ie,t.jsx("input",{value:s.title,onChange:b,className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e[36]=s.title,e[37]=b,e[38]=h):h=e[38];let oe;e[39]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìå Ringkasan (Lead)"}),e[39]=oe):oe=e[39];let x;e[40]!==l?(x=a=>l("excerpt",a.target.value),e[40]=l,e[41]=x):x=e[41];let f;e[42]!==s.excerpt||e[43]!==x?(f=t.jsx("textarea",{value:s.excerpt,onChange:x,placeholder:"Ringkasan singkat berita yang menarik.",rows:3,className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),e[42]=s.excerpt,e[43]=x,e[44]=f):f=e[44];let ne;e[45]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("p",{className:"text-xs text-slate-500",children:"20-500 karakter"}),e[45]=ne):ne=e[45];let p;e[46]!==f?(p=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[oe,f,ne]}),e[46]=f,e[47]=p):p=e[47];let ce;e[48]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üé• Video (YouTube / TikTok)"}),e[48]=ce):ce=e[48];let g;e[49]!==s.video_urls||e[50]!==l?(g=s.video_urls.map((a,i)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{value:a,onChange:n=>{const c=[...s.video_urls];c[i]=n.target.value,l("video_urls",c)},placeholder:"https://www.youtube.com/watch?v=...",className:"flex-1 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("button",{type:"button",onClick:()=>{const n=s.video_urls.filter((c,Ae)=>Ae!==i);l("video_urls",n)},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:t.jsx(ke,{className:"h-5 w-5"})})]},i)),e[49]=s.video_urls,e[50]=l,e[51]=g):g=e[51];let j;e[52]!==s.video_urls||e[53]!==l?(j=t.jsx("button",{type:"button",onClick:()=>l("video_urls",[...s.video_urls,""]),className:"text-sm text-blue-600 font-semibold hover:text-blue-700 flex items-center gap-1",children:"+ Tambah Link Video"}),e[52]=s.video_urls,e[53]=l,e[54]=j):j=e[54];let v;e[55]!==g||e[56]!==j?(v=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[ce,t.jsxs("div",{className:"space-y-3",children:[g,j]})]}),e[55]=g,e[56]=j,e[57]=v):v=e[57];let de;e[58]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üñºÔ∏è Gambar Featured"}),e[58]=de):de=e[58];let N;e[59]!==z||e[60]!==l?(N=z&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:z,alt:"Preview",className:"w-full rounded-lg border-2 border-blue-200 max-h-64 object-cover"}),t.jsx("button",{type:"button",onClick:()=>{l("image",null),Ve(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",children:t.jsx(ke,{className:"h-4 w-4"})})]}),e[59]=z,e[60]=l,e[61]=N):N=e[61];let _;e[62]!==Ke?(_=t.jsx("input",{type:"file",accept:"image/*",onChange:Ke,className:"hidden",id:"image-upload"}),e[62]=Ke,e[63]=_):_=e[63];let me;e[64]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer block",children:[t.jsx("p",{className:"text-slate-600 font-medium",children:"Klik atau drag gambar baru di sini"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Format: JPG, PNG ‚Ä¢ Min: 600x400px ‚Ä¢ Max: 5MB"})]}),e[64]=me):me=e[64];let y;e[65]!==_?(y=t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-blue-500 transition cursor-pointer",children:[_,me]}),e[65]=_,e[66]=y):y=e[66];let w;e[67]!==N||e[68]!==y?(w=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[de,N,y]}),e[67]=N,e[68]=y,e[69]=w):w=e[69];let ue;e[70]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìÑ Konten Berita"}),e[70]=ue):ue=e[70];let k;e[71]!==l?(k=a=>l("content",a),e[71]=l,e[72]=k):k=e[72];let S;e[73]!==s.content||e[74]!==k?(S=t.jsx(Ze,{value:s.content,onChange:k}),e[73]=s.content,e[74]=k,e[75]=S):S=e[75];let be;e[76]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx("p",{className:"text-xs text-slate-500",children:"100-50,000 karakter"}),e[76]=be):be=e[76];let P;e[77]!==S?(P=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[ue,S,be]}),e[77]=S,e[78]=P):P=e[78];let C;e[79]!==h||e[80]!==p||e[81]!==v||e[82]!==w||e[83]!==P?(C=t.jsxs("div",{className:"col-span-2 space-y-6",children:[h,p,v,w,P]}),e[79]=h,e[80]=p,e[81]=v,e[82]=w,e[83]=P,e[84]=C):C=e[84];let E;e[85]!==Ce||e[86]!==Se||e[87]!==s.user_id||e[88]!==l?(E=Ce==="admin"&&t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[t.jsx("h3",{className:"font-semibold text-slate-900",children:"üë§ Penulis"}),t.jsxs("select",{value:s.user_id,onChange:a=>l("user_id",a.target.value),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Pilih Penulis"}),Se.map(st)]})]}),e[85]=Ce,e[86]=Se,e[87]=s.user_id,e[88]=l,e[89]=E):E=e[89];let he;e[90]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("h3",{className:"font-semibold text-slate-900",children:"üè∑Ô∏è Kategori"}),e[90]=he):he=e[90];let B;if(e[91]!==Pe||e[92]!==s.categories||e[93]!==$){let a;e[95]!==s.categories||e[96]!==$?(a=i=>t.jsxs("label",{className:"flex items-center p-3 border border-slate-200 rounded-lg hover:bg-blue-50 cursor-pointer transition",children:[t.jsx("input",{type:"checkbox",checked:s.categories.includes(i.id),onChange:()=>$(i.id),className:"rounded w-4 h-4 text-blue-600"}),t.jsx("span",{className:"ml-3 font-medium text-slate-700",children:i.name})]},i.id),e[95]=s.categories,e[96]=$,e[97]=a):a=e[97],B=Pe.map(a),e[91]=Pe,e[92]=s.categories,e[93]=$,e[94]=B}else B=e[94];let D;e[98]!==B?(D=t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:B}),e[98]=B,e[99]=D):D=e[99];let xe;e[100]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx("p",{className:"text-xs text-slate-500",children:"Pilih 1-3 kategori yang relevan"}),e[100]=xe):xe=e[100];let R;e[101]!==D?(R=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[he,D,xe]}),e[101]=D,e[102]=R):R=e[102];let fe;e[103]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx("h3",{className:"font-semibold text-slate-900",children:"‚öôÔ∏è Status Publikasi"}),e[103]=fe):fe=e[103];let pe;e[104]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),e[104]=pe):pe=e[104];let F;e[105]!==l?(F=a=>l("status",a.target.value),e[105]=l,e[106]=F):F=e[106];let ge,je,ve;e[107]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx("option",{value:"draft",children:"üìã Draft"}),je=t.jsx("option",{value:"scheduled",children:"‚è∞ Jadwalkan"}),ve=t.jsx("option",{value:"published",children:"üöÄ Publish"}),e[107]=ge,e[108]=je,e[109]=ve):(ge=e[107],je=e[108],ve=e[109]);let L;e[110]!==s.status||e[111]!==F?(L=t.jsxs("div",{className:"space-y-2",children:[pe,t.jsxs("select",{value:s.status,onChange:F,className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[ge,je,ve]})]}),e[110]=s.status,e[111]=F,e[112]=L):L=e[112];let T;e[113]!==s.published_at||e[114]!==Ie||e[115]!==l?(T=Ie&&t.jsxs("div",{className:"space-y-2 pt-3 border-t border-slate-200",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Waktu Publikasi"}),t.jsx("input",{type:"datetime-local",value:s.published_at,onChange:a=>l("published_at",a.target.value),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Kosongi untuk publish sekarang"})]}),e[113]=s.published_at,e[114]=Ie,e[115]=l,e[116]=T):T=e[116];let K;e[117]!==s.status?(K=s.status==="draft"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üìã Draft:"})," Berita disimpan tapi belum dipublikasikan"]}),e[117]=s.status,e[118]=K):K=e[118];let I;e[119]!==s.status?(I=s.status==="scheduled"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"‚è∞ Terjadwal:"})," Otomatis publish pada waktu ditentukan"]}),e[119]=s.status,e[120]=I):I=e[120];let M;e[121]!==s.status?(M=s.status==="published"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üöÄ Published:"})," Berita terlihat di portal"]}),e[121]=s.status,e[122]=M):M=e[122];let G;e[123]!==K||e[124]!==I||e[125]!==M?(G=t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[K,I,M]}),e[123]=K,e[124]=I,e[125]=M,e[126]=G):G=e[126];let J;e[127]!==L||e[128]!==T||e[129]!==G?(J=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[fe,L,T,G]}),e[127]=L,e[128]=T,e[129]=G,e[130]=J):J=e[130];let Ne;e[131]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(tt,{className:"h-5 w-5"}),e[131]=Ne):Ne=e[131];const We=Y?"‚è≥ Memproses...":s.status==="draft"?"üíæ Simpan Draft":"üöÄ Publish Sekarang";let O;e[132]!==Y||e[133]!==We?(O=t.jsxs("button",{disabled:Y,type:"submit",className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-6 py-3.5 rounded-lg font-bold hover:from-emerald-600 hover:to-teal-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:[Ne,We]}),e[132]=Y,e[133]=We,e[134]=O):O=e[134];let _e;e[135]===Symbol.for("react.memo_cache_sentinel")?(_e=He("admin.news.index"),e[135]=_e):_e=e[135];let ye;e[136]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsxs($e,{href:_e,className:"w-full flex items-center justify-center gap-2 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-semibold hover:bg-slate-100 hover:border-slate-400 transition-all active:scale-95",children:[t.jsx(ke,{className:"h-5 w-5"}),"Batal"]}),e[136]=ye):ye=e[136];let U;e[137]!==O?(U=t.jsxs("div",{className:"space-y-3 sticky bottom-4 bg-white/95 backdrop-blur rounded-xl p-4 border border-slate-200 shadow-lg",children:[O,ye]}),e[137]=O,e[138]=U):U=e[138];let W;e[139]!==E||e[140]!==R||e[141]!==J||e[142]!==U?(W=t.jsxs("div",{className:"col-span-1 space-y-4",children:[E,R,J,U]}),e[139]=E,e[140]=R,e[141]=J,e[142]=U,e[143]=W):W=e[143];let H;e[144]!==C||e[145]!==W?(H=t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[C,W]}),e[144]=C,e[145]=W,e[146]=H):H=e[146];let V;e[147]!==Te||e[148]!==u||e[149]!==H?(V=t.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[u,H]}),e[147]=Te,e[148]=u,e[149]=H,e[150]=V):V=e[150];let we;return e[151]!==m||e[152]!==V?(we=t.jsxs(et,{children:[se,t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white via-blue-50/20 to-white py-8 px-4",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[m,V]})})]}),e[151]=m,e[152]=V,e[153]=we):we=e[153],we}function st(o){return t.jsxs("option",{value:o.id,children:[o.name," (",o.role,")"]},o.id)}function lt(o){const[e,r]=o;return t.jsxs("li",{children:["‚Ä¢ ",e,": ",r]},e)}function at(o){return parseInt(o)}export{gt as default};
