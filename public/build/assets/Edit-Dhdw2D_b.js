import{c as Ye,r as qe,b as Qe,s as $e,j as t,H as Ze,L as Ae}from"./app-DkuaLEzQ.js";import{E as et}from"./Editor-B8WJPXan.js";import{E as tt}from"./EditorLayout-J_e3cs9x.js";import{X as Se}from"./x-BrcXMGdZ.js";import{S as st}from"./save-GtCOR8_5.js";/* empty css            */import"./index-B4nDVSwb.js";import"./sidebar-menu-config-Cmm5UoIi.js";import"./menu-w5Q9IlHl.js";import"./createLucideIcon-CyZxqCkr.js";import"./users-Bw-q_gGp.js";import"./message-circle-CZv2IqnW.js";import"./user-BcSvnkSL.js";function jt(o){const e=Ye.c(157),{news:a,authors:Pe,categories:Ce,authRole:Ee}=o,[W,ze]=qe.useState(a.image??null),Be=a.excerpt||"",De=a.user_id||"";let X;e[0]!==a.categories?(X=a.categories?.map(rt)||[],e[0]=a.categories,e[1]=X):X=e[1];const Re=X;let d;e[2]!==a.video_urls?(d=a.video_urls||[],e[2]=a.video_urls,e[3]=d):d=e[3];const Fe=a.status||"draft",Le=a.published_at||"";let Y;e[4]!==a.content||e[5]!==a.title||e[6]!==Be||e[7]!==De||e[8]!==Re||e[9]!==d||e[10]!==Fe||e[11]!==Le?(Y={title:a.title,excerpt:Be,content:a.content,image:null,user_id:De,categories:Re,video_urls:d,status:Fe,published_at:Le},e[4]=a.content,e[5]=a.title,e[6]=Be,e[7]=De,e[8]=Re,e[9]=d,e[10]=Fe,e[11]=Le,e[12]=Y):Y=e[12];const{data:s,setData:l,put:Te,processing:q,errors:m}=Qe(Y);let Q;e[13]!==a.slug||e[14]!==Te?(Q=function(i){i.preventDefault(),Te($e("admin.news.update",a.slug),{forceFormData:!0})},e[13]=a.slug,e[14]=Te,e[15]=Q):Q=e[15];const Ke=Q;let Z;e[16]!==l?(Z=function(i){const n=i.target.files?.[0];if(n){l("image",n);const c=new FileReader;c.onloadend=()=>{ze(c.result)},c.readAsDataURL(n)}},e[16]=l,e[17]=Z):Z=e[17];const Ie=Z;let ee;e[18]!==s.categories||e[19]!==l?(ee=function(i){l("categories",s.categories.includes(i)?s.categories.filter(n=>n!==i):[...s.categories,i])},e[18]=s.categories,e[19]=l,e[20]=ee):ee=e[20];const A=ee,Me=s.status==="published";let te;e[21]!==m?(te=Object.keys(m),e[21]=m,e[22]=te):te=e[22];const Ge=te.length>0;let se;e[23]===Symbol.for("react.memo_cache_sentinel")?(se={draft:"bg-slate-100 text-slate-700",scheduled:"bg-amber-100 text-amber-700",published:"bg-green-100 text-green-700"},e[23]=se):se=e[23];const We=se;let le;e[24]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(Ze,{title:"Edit Berita"}),e[24]=le):le=e[24];let ae;e[25]===Symbol.for("react.memo_cache_sentinel")?(ae=$e("admin.news.index"),e[25]=ae):ae=e[25];let re;e[26]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsxs(Ae,{href:ae,className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4 font-semibold transition",children:[t.jsx(Se,{className:"h-4 w-4"}),"Kembali"]}),e[26]=re):re=e[26];let ie;e[27]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-extrabold text-slate-900",children:"‚úèÔ∏è Edit Berita"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Perbarui konten dan kelola publikasi"})]}),e[27]=ie):ie=e[27];const Je=`px-4 py-2 rounded-lg font-semibold ${We[s.status]}`,Oe=s.status==="draft"&&"üìã Draft",Ue=s.status==="scheduled"&&"‚è∞ Terjadwal",He=s.status==="published"&&"üöÄ Published";let u;e[28]!==Je||e[29]!==Oe||e[30]!==Ue||e[31]!==He?(u=t.jsxs("div",{className:"mb-8",children:[re,t.jsxs("div",{className:"flex items-center justify-between",children:[ie,t.jsxs("div",{className:Je,children:[Oe,Ue,He]})]})]}),e[28]=Je,e[29]=Oe,e[30]=Ue,e[31]=He,e[32]=u):u=e[32];let b;e[33]!==m||e[34]!==Ge?(b=Ge&&t.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:[t.jsx("p",{className:"text-red-800 font-semibold mb-2",children:"‚ö†Ô∏è Perbaiki error berikut:"}),t.jsx("ul",{className:"text-red-700 text-sm space-y-1",children:Object.entries(m).map(at)})]}),e[33]=m,e[34]=Ge,e[35]=b):b=e[35];let oe;e[36]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx("label",{className:"block font-semibold text-slate-900",children:"‚úçÔ∏è Judul Berita"}),e[36]=oe):oe=e[36];let h;e[37]!==l?(h=r=>l("title",r.target.value),e[37]=l,e[38]=h):h=e[38];let x;e[39]!==s.title||e[40]!==h?(x=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[oe,t.jsx("input",{value:s.title,onChange:h,className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e[39]=s.title,e[40]=h,e[41]=x):x=e[41];let ne;e[42]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìå Ringkasan (Lead)"}),e[42]=ne):ne=e[42];let f;e[43]!==l?(f=r=>l("excerpt",r.target.value),e[43]=l,e[44]=f):f=e[44];let p;e[45]!==s.excerpt||e[46]!==f?(p=t.jsx("textarea",{value:s.excerpt,onChange:f,placeholder:"Ringkasan singkat berita yang menarik.",rows:3,className:"w-full border border-slate-200 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),e[45]=s.excerpt,e[46]=f,e[47]=p):p=e[47];let ce;e[48]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("p",{className:"text-xs text-slate-500",children:"20-500 karakter"}),e[48]=ce):ce=e[48];let g;e[49]!==p?(g=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[ne,p,ce]}),e[49]=p,e[50]=g):g=e[50];let de;e[51]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üé• Video (YouTube / TikTok)"}),e[51]=de):de=e[51];let j;e[52]!==s.video_urls||e[53]!==l?(j=s.video_urls.map((r,i)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{value:r,onChange:n=>{const c=[...s.video_urls];c[i]=n.target.value,l("video_urls",c)},placeholder:"https://www.youtube.com/watch?v=...",className:"flex-1 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("button",{type:"button",onClick:()=>{const n=s.video_urls.filter((c,Xe)=>Xe!==i);l("video_urls",n)},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:t.jsx(Se,{className:"h-5 w-5"})})]},i)),e[52]=s.video_urls,e[53]=l,e[54]=j):j=e[54];let v;e[55]!==s.video_urls||e[56]!==l?(v=t.jsx("button",{type:"button",onClick:()=>l("video_urls",[...s.video_urls,""]),className:"text-sm text-blue-600 font-semibold hover:text-blue-700 flex items-center gap-1",children:"+ Tambah Link Video"}),e[55]=s.video_urls,e[56]=l,e[57]=v):v=e[57];let N;e[58]!==j||e[59]!==v?(N=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[de,t.jsxs("div",{className:"space-y-3",children:[j,v]})]}),e[58]=j,e[59]=v,e[60]=N):N=e[60];let me;e[61]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üñºÔ∏è Gambar Featured"}),e[61]=me):me=e[61];let _;e[62]!==W||e[63]!==l?(_=W&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:W,alt:"Preview",className:"w-full rounded-lg border-2 border-blue-200 max-h-64 object-cover"}),t.jsx("button",{type:"button",onClick:()=>{l("image",null),ze(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",children:t.jsx(Se,{className:"h-4 w-4"})})]}),e[62]=W,e[63]=l,e[64]=_):_=e[64];let y;e[65]!==Ie?(y=t.jsx("input",{type:"file",accept:"image/*",onChange:Ie,className:"hidden",id:"image-upload"}),e[65]=Ie,e[66]=y):y=e[66];let ue;e[67]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer block",children:[t.jsx("p",{className:"text-slate-600 font-medium",children:"Klik atau drag gambar baru di sini"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Format: JPG, PNG ‚Ä¢ Min: 600x400px ‚Ä¢ Max: 5MB"})]}),e[67]=ue):ue=e[67];let w;e[68]!==y?(w=t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-blue-500 transition cursor-pointer",children:[y,ue]}),e[68]=y,e[69]=w):w=e[69];let k;e[70]!==_||e[71]!==w?(k=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[me,_,w]}),e[70]=_,e[71]=w,e[72]=k):k=e[72];let be;e[73]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx("label",{className:"block font-semibold text-slate-900",children:"üìÑ Konten Berita"}),e[73]=be):be=e[73];let S;e[74]!==l?(S=r=>l("content",r),e[74]=l,e[75]=S):S=e[75];let P;e[76]!==s.content||e[77]!==S?(P=t.jsx(et,{value:s.content,onChange:S}),e[76]=s.content,e[77]=S,e[78]=P):P=e[78];let he;e[79]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("p",{className:"text-xs text-slate-500",children:"100-50,000 karakter"}),e[79]=he):he=e[79];let C;e[80]!==P?(C=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[be,P,he]}),e[80]=P,e[81]=C):C=e[81];let E;e[82]!==x||e[83]!==g||e[84]!==N||e[85]!==k||e[86]!==C?(E=t.jsxs("div",{className:"col-span-2 space-y-6",children:[x,g,N,k,C]}),e[82]=x,e[83]=g,e[84]=N,e[85]=k,e[86]=C,e[87]=E):E=e[87];let B;e[88]!==Ee||e[89]!==Pe||e[90]!==s.user_id||e[91]!==l?(B=Ee==="admin"&&t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-3",children:[t.jsx("h3",{className:"font-semibold text-slate-900",children:"üë§ Penulis"}),t.jsxs("select",{value:s.user_id,onChange:r=>l("user_id",r.target.value),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Pilih Penulis"}),Pe.map(lt)]})]}),e[88]=Ee,e[89]=Pe,e[90]=s.user_id,e[91]=l,e[92]=B):B=e[92];let xe;e[93]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx("h3",{className:"font-semibold text-slate-900",children:"üè∑Ô∏è Kategori"}),e[93]=xe):xe=e[93];let D;if(e[94]!==Ce||e[95]!==s.categories||e[96]!==A){let r;e[98]!==s.categories||e[99]!==A?(r=i=>t.jsxs("label",{className:"flex items-center p-3 border border-slate-200 rounded-lg hover:bg-blue-50 cursor-pointer transition",children:[t.jsx("input",{type:"checkbox",checked:s.categories.includes(i.id),onChange:()=>A(i.id),className:"rounded w-4 h-4 text-blue-600"}),t.jsx("span",{className:"ml-3 font-medium text-slate-700",children:i.name})]},i.id),e[98]=s.categories,e[99]=A,e[100]=r):r=e[100],D=Ce.map(r),e[94]=Ce,e[95]=s.categories,e[96]=A,e[97]=D}else D=e[97];let R;e[101]!==D?(R=t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:D}),e[101]=D,e[102]=R):R=e[102];let fe;e[103]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx("p",{className:"text-xs text-slate-500",children:"Pilih 1-3 kategori yang relevan"}),e[103]=fe):fe=e[103];let F;e[104]!==R?(F=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[xe,R,fe]}),e[104]=R,e[105]=F):F=e[105];let pe;e[106]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx("h3",{className:"font-semibold text-slate-900",children:"‚öôÔ∏è Status Publikasi"}),e[106]=pe):pe=e[106];let ge;e[107]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),e[107]=ge):ge=e[107];let L;e[108]!==l?(L=r=>l("status",r.target.value),e[108]=l,e[109]=L):L=e[109];let je,ve,Ne;e[110]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx("option",{value:"draft",children:"üìã Draft"}),ve=t.jsx("option",{value:"scheduled",children:"‚è∞ Jadwalkan"}),Ne=t.jsx("option",{value:"published",children:"üöÄ Publish"}),e[110]=je,e[111]=ve,e[112]=Ne):(je=e[110],ve=e[111],Ne=e[112]);let T;e[113]!==s.status||e[114]!==L?(T=t.jsxs("div",{className:"space-y-2",children:[ge,t.jsxs("select",{value:s.status,onChange:L,className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[je,ve,Ne]})]}),e[113]=s.status,e[114]=L,e[115]=T):T=e[115];let K;e[116]!==s.published_at||e[117]!==Me||e[118]!==l?(K=Me&&t.jsxs("div",{className:"space-y-2 pt-3 border-t border-slate-200",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Waktu Publikasi"}),t.jsx("input",{type:"datetime-local",value:s.published_at,onChange:r=>l("published_at",r.target.value),className:"w-full border border-slate-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Kosongi untuk publish sekarang"})]}),e[116]=s.published_at,e[117]=Me,e[118]=l,e[119]=K):K=e[119];let I;e[120]!==s.status?(I=s.status==="draft"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üìã Draft:"})," Berita disimpan tapi belum dipublikasikan"]}),e[120]=s.status,e[121]=I):I=e[121];let M;e[122]!==s.status?(M=s.status==="scheduled"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"‚è∞ Terjadwal:"})," Otomatis publish pada waktu ditentukan"]}),e[122]=s.status,e[123]=M):M=e[123];let G;e[124]!==s.status?(G=s.status==="published"&&t.jsxs("p",{className:"text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"üöÄ Published:"})," Berita terlihat di portal"]}),e[124]=s.status,e[125]=G):G=e[125];let J;e[126]!==I||e[127]!==M||e[128]!==G?(J=t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm",children:[I,M,G]}),e[126]=I,e[127]=M,e[128]=G,e[129]=J):J=e[129];let O;e[130]!==T||e[131]!==K||e[132]!==J?(O=t.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[pe,T,K,J]}),e[130]=T,e[131]=K,e[132]=J,e[133]=O):O=e[133];let _e;e[134]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(st,{className:"h-5 w-5"}),e[134]=_e):_e=e[134];const Ve=q?"‚è≥ Memproses...":s.status==="draft"?"üíæ Simpan Draft":"üöÄ Publish Sekarang";let U;e[135]!==q||e[136]!==Ve?(U=t.jsxs("button",{disabled:q,type:"submit",className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-6 py-3.5 rounded-lg font-bold hover:from-emerald-600 hover:to-teal-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:[_e,Ve]}),e[135]=q,e[136]=Ve,e[137]=U):U=e[137];let ye;e[138]===Symbol.for("react.memo_cache_sentinel")?(ye=$e("admin.news.index"),e[138]=ye):ye=e[138];let we;e[139]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsxs(Ae,{href:ye,className:"w-full flex items-center justify-center gap-2 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-semibold hover:bg-slate-100 hover:border-slate-400 transition-all active:scale-95",children:[t.jsx(Se,{className:"h-5 w-5"}),"Batal"]}),e[139]=we):we=e[139];let H;e[140]!==U?(H=t.jsxs("div",{className:"space-y-3 sticky bottom-4 bg-white/95 backdrop-blur rounded-xl p-4 border border-slate-200 shadow-lg",children:[U,we]}),e[140]=U,e[141]=H):H=e[141];let V;e[142]!==B||e[143]!==F||e[144]!==O||e[145]!==H?(V=t.jsxs("div",{className:"col-span-1 space-y-4",children:[B,F,O,H]}),e[142]=B,e[143]=F,e[144]=O,e[145]=H,e[146]=V):V=e[146];let $;e[147]!==E||e[148]!==V?($=t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[E,V]}),e[147]=E,e[148]=V,e[149]=$):$=e[149];let z;e[150]!==Ke||e[151]!==b||e[152]!==$?(z=t.jsxs("form",{onSubmit:Ke,className:"space-y-6",children:[b,$]}),e[150]=Ke,e[151]=b,e[152]=$,e[153]=z):z=e[153];let ke;return e[154]!==u||e[155]!==z?(ke=t.jsxs(tt,{children:[le,t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white via-blue-50/20 to-white py-8 px-4",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[u,z]})})]}),e[154]=u,e[155]=z,e[156]=ke):ke=e[156],ke}function lt(o){return t.jsxs("option",{value:o.id,children:[o.name," (",o.role,")"]},o.id)}function at(o){const[e,a]=o;return t.jsxs("li",{children:["‚Ä¢ ",e,": ",a]},e)}function rt(o){return parseInt(o)}export{jt as default};
